System.register(["./element-plus-legacy-e8d9e9ed.js","./region-legacy-4b07c90e.js","./index-legacy-26a44ae8.js","./@vue-legacy-2d91c92a.js","./lodash-es-legacy-d8f0ce1c.js","./async-validator-legacy-aa1fd2de.js","./@vueuse-legacy-50f32026.js","./dayjs-legacy-8f525740.js","./call-bind-legacy-cd1ef84e.js","./get-intrinsic-legacy-609b632b.js","./has-symbols-legacy-afcc0593.js","./has-proto-legacy-d280ab1e.js","./function-bind-legacy-b76e1749.js","./has-legacy-06d86c07.js","./@element-plus-legacy-3445f2de.js","./@popperjs-legacy-876caf52.js","./escape-html-legacy-dcea4fee.js","./normalize-wheel-es-legacy-13d39621.js","./@ctrl-legacy-33dbca08.js","./request-legacy-8d00dc4b.js","./axios-legacy-cdbd96a0.js","./qs-legacy-7439ffca.js","./side-channel-legacy-1368bb4b.js","./object-inspect-legacy-81f0c143.js","./vue-router-legacy-69a49ba0.js","./pinia-legacy-ae09a396.js"],(function(e,l){"use strict";var a,n,t,i,u,r,o,c,s,d,g,f,m,h,p,y,v,b,j,C,_,k,z,F,D;return{setters:[function(e){a=e.f,n=e.a,t=e.e,i=e.b,u=e.k,r=e.t,o=e.v,c=e.c,s=e.d,d=e.g,g=e.h,f=e.j},function(e){m=e.R},function(e){h=e._},function(e){p=e.c,y=e.a,v=e.O,b=e.R,j=e._,C=e.S,_=e.o,k=e.P,z=e.a8,F=e.X,D=e.V},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l={data:function(){return{loading:!0,tableData:[],pageSize:15,totalDataNumber:0,curPage:1,open_add:!1,open_edit:!1,userModel:{},searchForm:{name:"",level:0,province_id:"",city_id:""},areaList:[]}},created:function(){this.getData()},methods:{handleCurrentChange:function(e){var l=this;l.curPage=e,l.loading=!0,l.getData()},handleSizeChange:function(e){this.curPage=1,this.pageSize=e,this.getData()},getData:function(){var e=this,l=e.searchForm;l.page=e.curPage,l.list_rows=e.pageSize,m.regionList(l,!0).then((function(l){e.loading=!1,e.tableData=l.data.list.data,e.totalDataNumber=l.data.list.total,e.areaList=l.data.regionData})).catch((function(e){}))},onSubmit:function(){this.curPage=1,this.getData()},addClick:function(){this.$router.push("/region/add")},editClick:function(e){this.$router.push({path:"/region/edit",query:{id:e.id}})},initCity:function(){this.searchForm.city_id=""},deleteClick:function(e){var l=this;a.confirm("此操作将永久删除该记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l.loading=!0,m.deleteRegion({id:e.id},!0).then((function(e){l.loading=!1,n({message:e.msg,type:"success"}),l.getData()})).catch((function(e){l.loading=!1}))})).catch((function(){}))}}},S={class:"user"},V=y("div",{class:"common-form"},"地区列表",-1),w={class:"common-seach-wrap"},x={class:"common-level-rail"},P={class:"product-content"},L={class:"table-wrap"},q={key:0},U={key:1},N={key:2},R={class:"pagination"};e("default",h(l,[["render",function(e,l,a,n,m,h){var B=c,T=s,$=d,G=g,I=t,M=i,O=f,X=u,A=r,E=o;return _(),p("div",S,[V,y("div",w,[v(M,{size:"small",inline:!0,model:m.searchForm,class:"demo-form-inline"},{default:b((function(){return[v(T,{label:"名称"},{default:b((function(){return[v(B,{size:"small",modelValue:m.searchForm.name,"onUpdate:modelValue":l[0]||(l[0]=function(e){return m.searchForm.name=e}),placeholder:"请输入名称"},null,8,["modelValue"])]})),_:1}),v(T,{label:"地区类型"},{default:b((function(){return[y("div",null,[v(G,{modelValue:m.searchForm.level,"onUpdate:modelValue":l[1]||(l[1]=function(e){return m.searchForm.level=e})},{default:b((function(){return[v($,{label:"全部",value:0}),v($,{label:"省份",value:1}),v($,{label:"城市",value:2}),v($,{label:"地区",value:3})]})),_:1},8,["modelValue"])])]})),_:1}),v(T,{label:"选择上级"},{default:b((function(){return[v(G,{modelValue:m.searchForm.province_id,"onUpdate:modelValue":l[2]||(l[2]=function(e){return m.searchForm.province_id=e}),placeholder:"省",onChange:h.initCity},{default:b((function(){return[v($,{label:"全部",value:""}),(_(!0),p(k,null,z(m.areaList,(function(e,l){return _(),C($,{label:e.name,value:e.id,key:l},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"]),""!=m.searchForm.province_id?(_(),C(G,{key:0,modelValue:m.searchForm.city_id,"onUpdate:modelValue":l[3]||(l[3]=function(e){return m.searchForm.city_id=e}),placeholder:"市"},{default:b((function(){return[v($,{label:"全部",value:""}),(_(!0),p(k,null,z(m.areaList[m.searchForm.province_id].city,(function(e,l){return _(),C($,{label:e.name,value:e.id,key:l},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):F("",!0)]})),_:1}),v(T,null,{default:b((function(){return[v(I,{size:"default",type:"primary",icon:"Search",onClick:h.onSubmit},{default:b((function(){return[D("查询")]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model"])]),y("div",x,[v(I,{type:"primary",onClick:h.addClick},{default:b((function(){return[D("添加")]})),_:1},8,["onClick"])]),y("div",P,[y("div",L,[j((_(),C(X,{size:"small",data:m.tableData,border:"",style:{width:"100%"}},{default:b((function(){return[v(O,{prop:"shortname",label:"简称"}),v(O,{prop:"name",label:"名称"}),v(O,{prop:"merger_name",label:"名称"}),v(O,{label:"级别"},{default:b((function(e){return[1==e.row.level?(_(),p("span",q,"省份")):F("",!0),2==e.row.level?(_(),p("span",U,"城市")):F("",!0),3==e.row.level?(_(),p("span",N,"地区")):F("",!0)]})),_:1}),v(O,{prop:"lng",label:"经度"}),v(O,{prop:"lat",label:"纬度"}),v(O,{fixed:"right",label:"操作",width:"90"},{default:b((function(e){return[v(I,{onClick:function(l){return h.editClick(e.row)},type:"text",size:"small"},{default:b((function(){return[D("编辑")]})),_:2},1032,["onClick"]),v(I,{onClick:function(l){return h.deleteClick(e.row)},type:"text",size:"small"},{default:b((function(){return[D("删除")]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])),[[E,m.loading]])]),y("div",R,[v(A,{onSizeChange:h.handleSizeChange,onCurrentChange:h.handleCurrentChange,background:"","current-page":m.curPage,"page-size":m.pageSize,layout:"total, prev, pager, next, jumper",total:m.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]))}}}));
