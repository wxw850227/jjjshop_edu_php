import{_ as e,u as n,r as t}from"./index-50364d71.js";import{u as s}from"./vue-router-569da8b3.js";import{E as i,J as a,w as o,K as c,o as l,c as r,a as u,L as m,P as h,a8 as p,W as d,X as v,a0 as f,ad as g,O as x}from"./@vue-413ce838.js";import{f as j,a as b}from"./element-plus-1d2aab9a.js";import"./pinia-1c212f4d.js";import"./@element-plus-1ce7f40b.js";import"./lodash-es-493ac664.js";import"./@vueuse-4fad2ccb.js";import"./dayjs-3f6c138b.js";import"./call-bind-a6dd5c06.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@popperjs-b78c3215.js";import"./escape-html-d3e23fdb.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";const I=i({setup(e,{emit:t}){const i=s(),{bus_emit:l}=n(),r=a({route:i,active_menu:null,active_child:0,menuList:[{name:"插件",icon:"icon-chajian",path:"/plugs",redirect:"/plugs/plugs/Index",children:[{name:"全部插件",icon:null,path:"/plugs/plugs/Index"}]},{name:"后台权限",icon:"icon-authority",path:"/access",redirect:"/access/Index",children:[{name:"权限列表",icon:null,path:"/access/Index"}]},{name:"平台",icon:"icon-zhuye",path:"/shop",redirect:"/shop/Index",children:[{name:"平台列表",icon:null,path:"/shop/Index"}]},{name:"消息",icon:"icon-xiaoxi1",path:"/message",redirect:"/message/Index",children:[{name:"消息列表",icon:null,path:"/message/Index"}]},{name:"地区",icon:"icon-diqu",path:"/region",redirect:"/region/Index",children:[{name:"地区列表",icon:null,path:"/region/Index"}]},{name:"设置",icon:"icon-icon-test1",path:"/setting",redirect:"/setting/Index",children:[{name:"设置",icon:null,path:"/setting/service/Index"}]},{name:"密码",icon:"icon-authority1",path:"/password",redirect:"/password/Index",children:[{name:"修改密码",icon:null,path:"/password/Index"}]}]}),u=async e=>{let n="首页",s="/"+e.path.split("/")[1];for(let t=0;t<r.menuList.length;t++){if(s==r.menuList[t].path){n=r.menuList[t].name,r.active_menu=t;let s=e.path;if(r.menuList[t].children){let e=r.menuList[t].children;for(let t=0;t<e.length;t++){if(s==e[t].path){n=e[t].name,r.active_child=t;break}r.active_child=0}}break}r.active_menu=null}l("MenuName",n),t("selectMenu",r.active_menu)};return o((()=>i),((e,n)=>{const t=e.path.split("/").length,s=n?n.path.split("/").length:0;r.transitionName=t<s?"slide-right":"slide-left",u(e)}),{deep:!0,immediate:!0}),{...c(r),selectMenu:u,route:i}},methods:{choseMenu(e){if(null!=e){let n=e.redirect||e.path;t.push(n)}else t.push("/Home")}}}),_={class:"left-menu-wrapper"},k={class:"menu-wrapper"},w={class:"home-login"},L=[u("span",{class:"icon iconfont icon-tubiaozhizuomoban-"},null,-1)],M={class:"nav-wrapper"},y={class:"first-menu-content"},C={class:"nav-ul"},z=["onClick"],N={class:"item-box"},H={class:"child-menu-wrapper"},$={class:"child-menu right-animation"},B={key:0},F=["onClick"],R={class:"name"};const S=e(I,[["render",function(e,n,t,s,i,a){return l(),r("div",_,[u("div",k,[u("div",w,[u("div",{class:m(null!=e.active_menu?"home-icon":"home-icon router-link-active"),onClick:n[0]||(n[0]=n=>e.choseMenu(null))},L,2)]),u("div",M,[u("div",y,[u("ul",C,[(l(!0),r(h,null,p(e.menuList,((n,t)=>(l(),r("li",{class:m(e.active_menu==t?"menu-item router-link-active":"menu-item"),key:t,onClick:t=>e.choseMenu(n)},[u("div",N,[u("span",{class:m("icon iconfont menu-item-icon "+n.icon)},null,2),u("span",null,d(n.name),1)])],10,z)))),128))])])])]),u("div",H,[u("div",$,[null!=e.active_menu?(l(),r("ul",B,[(l(!0),r(h,null,p(e.menuList[e.active_menu].children,((n,t)=>(l(),r("li",{class:m(e.active_child==t?"router-link router-link-active":"router-link"),key:t,onClick:t=>e.choseMenu(n)},[u("span",R,d(n.name),1)],10,F)))),128))])):v("",!0)])])])}]]),{userInfo:T,bus_on:q,afterLogout:E}=n(),J=i({setup(){const e=a({menu_title:"首页",userInfo:T});return q("MenuName",(n=>{e.menu_title=n})),{...c(e),userInfo:T,afterLogout:E}},methods:{exit(){j.confirm("此操作将退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.logout()})).catch((()=>{b({type:"info",message:"已取消退出"})}))},async logout(){await this.afterLogout(),this.$router.push("/login")}}}),K={class:"common-header"},O={class:"breadcrumb"},P={class:"baseInfo-left-base"},W={class:"name"},X={class:"header-navbar"},A={class:"header-navbar-icon"},D=u("span",{class:"ml4 icon iconfont icon-geren9"},null,-1),G={class:"text ml4"},Q=[u("span",{class:"icon iconfont icon-tuichu"},null,-1),u("span",{class:"text ml4"},"退出",-1)];const U=i({components:{Heads:e(J,[["render",function(e,n,t,s,i,a){return l(),r("div",K,[u("div",O,[u("div",P,[u("span",W,d(e.menu_title),1)]),u("div",X,[u("div",A,[D,u("span",G,d(e.userInfo&&e.userInfo.userName)+"，欢迎您！",1)]),u("div",{class:"header-navbar-icon",onClick:n[0]||(n[0]=f(((...n)=>e.exit&&e.exit(...n)),["stop"]))},Q)])])])}]])}}),V={class:"right-content"},Y={class:"right-content-box"},Z={class:"subject-wrap"};const ee=e(i({setup(){const e=a({hasChild:null});return{...c(e)}},components:{LeftMenu:S,RightContent:e(U,[["render",function(e,n,t,s,i,a){const o=g("Heads"),c=g("router-view");return l(),r("div",V,[x(o),u("div",Y,[u("div",Z,[x(c)])])])}]])},watch:{$route(e,n){n.path!=e.path&&this.$router.go(0)}},methods:{selectMenuFunc(e){this.hasChild=e}}}),[["render",function(e,n,t,s,i,a){const o=g("LeftMenu"),c=g("RightContent");return l(),r("div",{class:m((e.hasChild,"main right-big"))},[x(o,{onSelectMenu:e.selectMenuFunc},null,8,["onSelectMenu"]),x(c)],2)}]]);export{ee as default};
