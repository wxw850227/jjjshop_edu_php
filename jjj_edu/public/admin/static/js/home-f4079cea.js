import{E as t,f as i,v as a}from"./element-plus-fe2e4fed.js";import{_ as s,e as o}from"./index-68daabb5.js";import{P as e}from"./page-47285e4e.js";import r from"./Type-0541257b.js";import m from"./Model-eec4106a.js";import p from"./Params-30888406.js";import{ae as d,$ as l,o as j,c as n,a as c,T as u,Y as f,P as g,S as y,W as D}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";import"./Setpages-a7f0e7e3.js";import"./Banner-e3c8ceb5.js";import"./ImageSingle-9dea5f08.js";import"./Window-4652ada6.js";import"./Video-de252110.js";import"./Article-719b0a71.js";import"./Special-b8cdfc7e.js";import"./Notice-1b1e58f2.js";import"./NavBar-1cc5c4c3.js";import"./Lecturer-4dfa12b8.js";import"./Service-b675ed5c.js";import"./RichText-19832a15.js";import"./Blank-669f8a2f.js";import"./Guide-733605b4.js";import"./Title-ed211eee.js";import"./Train-6fd26603.js";import"./Education-4fbfe5fa.js";import"./Course-4fbfe5fa.js";import"./vuedraggable-cabcff94.js";import"./vue-3c8001f5.js";import"./sortablejs-c079517e.js";import"./Upload-f5c061cf.js";import"./AddCategory-d39c217d.js";import"./file-498fee0c.js";import"./Setpages-bd43d96b.js";import"./Banner-92799c8d.js";import"./Setlink-9ee89cb7.js";import"./data-8d58e140.js";import"./ImageSingle-8950c7a7.js";import"./Window-03ae2276.js";import"./Video-ede972cb.js";import"./Article-a4d212da.js";import"./Special-40b3ac67.js";import"./article-2bcb606c.js";import"./Notice-86834e59.js";import"./NavBar-399be312.js";import"./Lecturer-529af6fd.js";import"./Service-ee340536.js";import"./RichText-beaacef1.js";import"./UE-040d8b3f.js";import"./Blank-8fb331fe.js";import"./Guide-13326881.js";import"./Title-4e30751c.js";import"./Train-c4de113c.js";import"./Course-3ac8845c.js";import"./Education-f34543ce.js";import"./train-a1fa0c34.js";import"./course-5bb65e85.js";const h={class:"diy-container clearfix"},v={class:"diy-menu"},S={class:"diy-phone"},b={class:"diy-info"},x={class:"common-button-wrapper"};const T=s({components:{Type:r,Model:m,Params:p},data:()=>({loading:!0,defaultData:{},diyData:{items:[]},opts:{},form:{umeditor:{},curItem:{},selectedIndex:-1}}),created(){this.getData()},methods:{getData(){let t=this;e.editHome({},!0).then((i=>{t.defaultData=i.data.defaultData,t.diyData=i.data.jsonData,t.form.curItem=t.diyData.page,t.opts=i.data.opts,t.loading=!1})).catch((i=>{t.loading=!1}))},onAddItem:function(t){let i=o(this.defaultData[t]),a=0;this.form.selectedIndex<0?(a=0,this.diyData.items.unshift(i)):(a=this.form.selectedIndex+1,this.diyData.items.splice(a,0,i)),this.$refs.model.onEditer(a)},Submit(){let i=this;i.loading=!0;let a=i.diyData,s=i.page_id;e.SavePage({params:JSON.stringify(a),page_id:s},!0).then((a=>{i.loading=!1,t({message:"恭喜你，修改成功",type:"success"}),i.getData(),i.form.selectedIndex=-1})).catch((t=>{i.loading=!1}))}}},[["render",function(t,s,o,e,r,m){const p=d("Type"),T=d("Model"),I=d("Params"),k=i,w=a;return l((j(),n("div",h,[c("div",v,[r.loading?f("",!0):(j(),u(p,{key:0,defaultData:r.defaultData},null,8,["defaultData"]))]),c("div",S,[r.loading?f("",!0):(j(),u(T,{key:0,ref:"model",form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),c("div",b,[r.loading?f("",!0):(j(),u(I,{key:0,form:r.form,defaultData:r.defaultData,diyData:r.diyData},null,8,["form","defaultData","diyData"]))]),c("div",x,[g(k,{size:"small",type:"primary",onClick:s[0]||(s[0]=t=>m.Submit()),loading:r.loading},{default:y((()=>[D("保存")])),_:1},8,["loading"])])])),[[w,r.loading]])}]]);export{T as default};
