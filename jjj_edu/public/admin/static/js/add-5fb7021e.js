import{E as l,d as e,e as s,f as t,i as a,s as i,c as o}from"./element-plus-fe2e4fed.js";import{_ as r}from"./Setlink-9ee89cb7.js";import{_ as m}from"./Upload-f5c061cf.js";import{P as n}from"./page-47285e4e.js";import{_ as u}from"./index-68daabb5.js";import{o as p,c as d,P as c,S as f,a as g,W as h,Y as _,T as j,X as k}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./data-8d58e140.js";import"./AddCategory-d39c217d.js";import"./file-498fee0c.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const y={components:{Upload:m,Setlink:r},data:()=>({isupload:!1,is_linkset:!1,isImg:!1,path:"",tips_Id:"",form:{title:"",image_url:"",sort:1,status:1,link_url:"",name:""},loading:!1,rules:{title:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],image_url:[{required:!0,message:"请上传图标",trigger:"blur"}],link_url:[{required:!0,message:"请选择链接地址",trigger:"blur"}]}}),created(){},methods:{changeLink(){this.is_linkset=!0},closeLinkset(l){this.is_linkset=!1,null!=l&&(l.url.startsWith("/")?this.form.link_url=l.url:this.form.link_url="/"+l.url,this.form.name="链接到 "+l.type+" "+l.name,this.tips_Id="链接到 "+l.type+" "+l.name)},openUpload(){this.isupload=!0},returnImgsFunc(l){null!=l&&(this.form.image_url=l[0].file_path,this.path=l[0].file_path,this.isImg=!0),this.isupload=!1},onSubmit(){let e=this,s=e.form;e.$refs.form.validate((t=>{t&&(e.loading=!0,n.addMenu(s,!0).then((s=>{e.loading=!1,l({message:s.msg,type:"success"}),e.$router.push("/page/page/mymenu/index")})).catch((l=>{e.loading=!1})))}))},cancelFunc(){this.$router.push({path:"/page/page/mymenu/index"})}}},b={class:"product-add pb50"},x=g("div",{class:"common-form"},"添加菜单",-1),v=["src","isImg"],V=g("div",{style:{color:"red"}},"图标大小为:25*25",-1),I={class:"url-box flex-1"},w=g("span",null,null,-1),C={class:"tips",id:"tips",style:{color:"#000"}},U=g("div",{class:"url-box ml10",style:{float:"right"}},null,-1),z={class:"common-button-wrapper"};const S=u(y,[["render",function(l,n,u,y,S,q){const F=e,L=s,$=t,D=m,P=a,R=i,W=r,A=o;return p(),d("div",b,[c(A,{size:"small",model:S.form,ref:"form",rules:S.rules,"label-width":"100px"},{default:f((()=>[x,c(L,{label:"菜单名称",prop:"title"},{default:f((()=>[c(F,{modelValue:S.form.title,"onUpdate:modelValue":n[0]||(n[0]=l=>S.form.title=l),placeholder:"请输入菜单名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),c(L,{label:"图标",prop:"image_url"},{default:f((()=>[g("div",null,[c($,{type:"primary",onClick:q.openUpload},{default:f((()=>[h("上传图片")])),_:1},8,["onClick"]),S.isImg?(p(),d("img",{key:0,src:S.path,class:"mt10",width:120,isImg:S.isImg},null,8,v)):_("",!0),V,S.isupload?(p(),j(D,{key:1,isupload:S.isupload,onReturnImgs:q.returnImgsFunc},{default:f((()=>[h("上传图片")])),_:1},8,["isupload","onReturnImgs"])):_("",!0)])])),_:1}),c(L,{label:"状态"},{default:f((()=>[c(R,{modelValue:S.form.status,"onUpdate:modelValue":n[1]||(n[1]=l=>S.form.status=l)},{default:f((()=>[c(P,{label:1},{default:f((()=>[h("显示")])),_:1}),c(P,{label:0},{default:f((()=>[h("隐藏")])),_:1})])),_:1},8,["modelValue"])])),_:1}),c(L,{label:"排序"},{default:f((()=>[c(F,{type:"number",modelValue:S.form.sort,"onUpdate:modelValue":n[2]||(n[2]=l=>S.form.sort=l),placeholder:"请输入数字",class:"max-w460"},null,8,["modelValue"])])),_:1}),c(L,{label:"链接",prop:"link_url"},{default:f((()=>[g("div",I,[c(F,{modelValue:S.form.link_url,"onUpdate:modelValue":n[3]||(n[3]=l=>S.form.link_url=l),type:"text",class:"max-w460",style:{width:"380px"}},null,8,["modelValue"]),w,c($,{type:"primary",onClick:n[4]||(n[4]=l=>q.changeLink())},{default:f((()=>[h("选择链接")])),_:1}),g("div",C,k(S.tips_Id),1),c(F,{modelValue:S.form.name,"onUpdate:modelValue":n[5]||(n[5]=l=>S.form.name=l),type:"hidden",class:"max-w460",style:{width:"380px"}},null,8,["modelValue"])]),U])),_:1}),S.is_linkset?(p(),j(W,{key:0,is_linkset:S.is_linkset,onCloseDialog:q.closeLinkset},{default:f((()=>[h("选择链接")])),_:1},8,["is_linkset","onCloseDialog"])):_("",!0),g("div",z,[c($,{size:"small",type:"info",onClick:q.cancelFunc},{default:f((()=>[h("取消")])),_:1},8,["onClick"]),c($,{size:"small",type:"primary",onClick:q.onSubmit,loading:S.loading},{default:f((()=>[h("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model","rules"])])}]]);export{S as default};
