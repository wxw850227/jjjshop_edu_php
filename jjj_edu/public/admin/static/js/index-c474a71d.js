import{q as a,r as e,e as t,d as r,f as o,c as s,l as i,m as l,n,v as p}from"./element-plus-fe2e4fed.js";import{P as d}from"./paper-0c363d83.js";import{q as c}from"./qs-c6aa5595.js";import{_ as m}from"./index-49a7d7a3.js";import{ap as u,o as h,c as g,a as b,P as j,S as y,Q as _,a9 as f,T as w,W as v,$ as C,X as z,Y as k}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const D={class:"product-list"},S={class:"common-seach-wrap"},x={class:"product-content"},P={class:"table-wrap"},q={class:"gray9"},F={key:0},V={key:0},N={key:1},L={class:"pagination"};const U=m({data:()=>({isPopUp:!1,paper_id:0,activeName:"sell",activeIndex:"0",loading:!0,pageSize:10,totalDataNumber:0,curPage:1,searchForm:{search:"",category_id:""},tableData:[],categoryList:[],product_count:{}}),created(){this.getData()},methods:{handleCurrentChange(a){let e=this;e.loading=!0,e.curPage=a,e.getData()},handleSizeChange(a){this.pageSize=a,this.getData()},handleClick(a,e){this.curPage=1,this.getData()},onExport:function(){let a=window.location.protocol+"//"+window.location.host;window.location.href=a+"/index.php/shop/question.question/export?"+c.stringify(this.searchForm)},getData(){let a=this,e=a.searchForm;e.page=a.curPage,e.list_rows=a.pageSize,a.loading=!0,d.trainRecordList(e,!0).then((e=>{a.loading=!1,a.tableData=e.data.list.data,a.categoryList=e.data.category,a.totalDataNumber=e.data.list.total})).catch((e=>{a.loading=!1}))},onSubmit(){this.curPage=1,this.getData()},viewClick(a){this.$router.push({path:"/paper/train/record/question",query:{record_id:a.record_id}})}}},[["render",function(d,c,m,U,I,$){const A=a,E=e,Q=t,R=r,T=o,W=s,X=i,Y=l,B=n,G=u("auth"),H=p;return h(),g("div",D,[b("div",S,[j(W,{size:"small",inline:!0,model:I.searchForm,class:"demo-form-inline"},{default:y((()=>[j(Q,{label:"考试分类"},{default:y((()=>[j(E,{size:"small",modelValue:I.searchForm.category_id,"onUpdate:modelValue":c[0]||(c[0]=a=>I.searchForm.category_id=a),placeholder:"所有分类"},{default:y((()=>[j(A,{label:"全部",value:"0"}),(h(!0),g(_,null,f(I.categoryList,((a,e)=>(h(),w(A,{key:e,label:a.name,value:a.category_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),j(Q,{label:"考试名称"},{default:y((()=>[j(R,{size:"small",modelValue:I.searchForm.search,"onUpdate:modelValue":c[1]||(c[1]=a=>I.searchForm.search=a),placeholder:"请输入考试名称"},null,8,["modelValue"])])),_:1}),j(Q,null,{default:y((()=>[j(T,{size:"small",type:"primary",icon:"Search",onClick:$.onSubmit},{default:y((()=>[v("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),b("div",x,[b("div",P,[C((h(),w(Y,{size:"small",data:I.tableData,border:"",style:{width:"100%"}},{default:y((()=>[j(X,{prop:"title",label:"考试名称"}),j(X,{prop:"",label:"用户"},{default:y((a=>[a.row.user?(h(),g(_,{key:0},[b("div",null,z(a.row.user.nickName),1),b("div",q,"ID：("+z(a.row.user.user_id)+")",1)],64)):k("",!0)])),_:1}),j(X,{prop:"paper.category.name",label:"考试分类"},{default:y((a=>[a.row.paper&&a.row.paper.category?(h(),g("span",F,z(a.row.paper.category.name),1)):k("",!0)])),_:1}),j(X,{prop:"item_number",label:"题目数量"}),j(X,{prop:"is_submit",label:"状态"},{default:y((a=>[1==a.row.is_submit?(h(),g("span",V,"已答卷")):(h(),g("span",N,"未答卷"))])),_:1}),j(X,{prop:"create_time",label:"创建时间"}),j(X,{fixed:"right",label:"操作",width:"90"},{default:y((a=>[C((h(),w(T,{onClick:e=>$.viewClick(a.row),type:"text",size:"small"},{default:y((()=>[v(" 查看答题 ")])),_:2},1032,["onClick"])),[[G,"/paper/train/record/question"]])])),_:1})])),_:1},8,["data"])),[[H,I.loading]])])]),b("div",L,[j(B,{onSizeChange:$.handleSizeChange,onCurrentChange:$.handleCurrentChange,background:"","current-page":I.curPage,"page-size":I.pageSize,layout:"total, prev, pager, next, jumper",total:I.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]);export{U as default};
