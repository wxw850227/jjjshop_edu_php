import{d as e,e as a,q as l,r as t,A as r,f as o,c as s,t as i,x as d,u as n,l as m,m as u,n as c,v as p}from"./element-plus-fe2e4fed.js";import{O as h}from"./order-0e020ea2.js";import"./qs-c6aa5595.js";import{_}from"./index-68daabb5.js";import{ap as g,o as b,c as f,a as v,P as j,S as y,Q as z,a9 as C,T as w,W as D,X as k,$ as x,M as V,Y as S}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const F={components:{},data:()=>({activeName:"all",loading:!0,tableData:[],pageSize:20,totalDataNumber:0,curPage:1,searchForm:{search:"",order_no:"",create_time:"",order_source:""},create_time:"",order_count:{payment:0,comment:0,complete:0,cancel:0},order_source:[]}),created(){this.getData()},methods:{handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getData()},handleClick(e,a){this.curPage=1,this.getData()},getData(){let e=this,a=this.searchForm;a.dataType=e.activeName,a.page=e.curPage,a.list_rows=e.pageSize,e.loading=!0,h.orderlist(a,!0).then((a=>{e.tableData.data=a.data.list.data,e.totalDataNumber=a.data.list.total,e.order_source=a.data.order_source,e.order_count=a.data.order_count.order_count,e.loading=!1})).catch((e=>{}))},addClick(e){let a=e.order_id;this.$router.push({path:"/order/order/Detail",query:{order_id:a}})},onSubmit(){this.curPage=1,this.tableData=[],this.getData()}}},N={class:"user"},P={class:"common-seach-wrap"},U={class:"block"},Y=v("span",{class:"demonstration"},null,-1),T={class:"product-content"},q={class:"table-wrap"},M={key:0},I={class:"gray9"},$={class:"pic"},A={key:0,alt:""},O={class:"info"},Q={class:"name gray3 product-name"},W={class:"orange"},X={class:"gray9"},B={class:"pagination"};const E=_(F,[["render",function(h,_,F,E,G,H){const J=e,K=a,L=l,R=t,Z=r,ee=o,ae=s,le=i,te=d,re=n,oe=m,se=u,ie=c,de=g("img-url"),ne=g("auth"),me=p;return b(),f("div",N,[v("div",P,[j(ae,{size:"small",inline:!0,model:G.searchForm,class:"demo-form-inline"},{default:y((()=>[j(K,{label:"会员信息"},{default:y((()=>[j(J,{modelValue:G.searchForm.search,"onUpdate:modelValue":_[0]||(_[0]=e=>G.searchForm.search=e),placeholder:"请输入昵称|手机号|ID"},null,8,["modelValue"])])),_:1}),j(K,{label:"订单号"},{default:y((()=>[j(J,{size:"small",modelValue:G.searchForm.order_no,"onUpdate:modelValue":_[1]||(_[1]=e=>G.searchForm.order_no=e),placeholder:"请输入订单号"},null,8,["modelValue"])])),_:1}),j(K,{label:"订单类型"},{default:y((()=>[j(R,{size:"small",modelValue:G.searchForm.order_source,"onUpdate:modelValue":_[2]||(_[2]=e=>G.searchForm.order_source=e),placeholder:"请选择"},{default:y((()=>[j(L,{label:"全部",value:""}),(b(!0),f(z,null,C(G.order_source,((e,a)=>(b(),w(L,{key:a,label:e.name,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),j(K,{label:"起始时间"},{default:y((()=>[v("div",U,[Y,j(Z,{size:"small",modelValue:G.searchForm.create_time,"onUpdate:modelValue":_[3]||(_[3]=e=>G.searchForm.create_time=e),type:"daterange","value-format":"YYYY-MM-DD","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},null,8,["modelValue"])])])),_:1}),j(K,null,{default:y((()=>[j(ee,{size:"small",type:"primary",icon:"Search",onClick:H.onSubmit},{default:y((()=>[D("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),v("div",T,[v("div",q,[j(re,{modelValue:G.activeName,"onUpdate:modelValue":_[4]||(_[4]=e=>G.activeName=e),onTabChange:H.handleClick},{default:y((()=>[j(le,{label:"全部订单",name:"all"}),j(le,{label:"待支付",name:"payment"},{label:y((()=>[v("span",null,[D("待支付 "),j(te,{size:"small"},{default:y((()=>[D(k(G.order_count.payment),1)])),_:1})])])),_:1}),j(le,{label:"待评价",name:"comment"},{label:y((()=>[v("span",null,[D("待评价 "),j(te,{size:"small"},{default:y((()=>[D(k(G.order_count.comment),1)])),_:1})])])),_:1}),j(le,{label:"已关闭",name:"cancel"},{label:y((()=>[v("span",null,[D("已关闭 "),j(te,{size:"small"},{default:y((()=>[D(k(G.order_count.cancel),1)])),_:1})])])),_:1}),j(le,{label:"已完成",name:"complete"},{label:y((()=>[v("span",null,[D("已完成 "),j(te,{size:"small"},{default:y((()=>[D(k(G.order_count.complete),1)])),_:1})])])),_:1})])),_:1},8,["modelValue","onTabChange"]),x((b(),w(se,{size:"small",data:G.tableData.data,border:"",style:{width:"100%"}},{default:y((()=>[j(oe,{prop:"order_no",label:"订单号",width:"150"},{default:y((e=>[v("div",null,[v("div",{class:V(["state-text",{"state-text-red":10!=e.row.order_source}])},"【"+k(e.row.order_source_text)+"】",3),v("div",null,k(e.row.order_no),1)])])),_:1}),j(oe,{prop:"",label:"用户信息"},{default:y((e=>[e.row.user?(b(),f("div",M,[v("div",null,k(e.row.user.nickName),1),v("div",I,"ID：("+k(e.row.user.user_id)+")",1)])):S("",!0)])),_:1}),j(oe,{prop:"",label:"商品信息",width:"400"},{default:y((e=>[(b(!0),f(z,null,C(e.row.product,((e,a)=>(b(),f("div",{class:"product-info",key:a},[v("div",$,[e.image&&e.image.file_path?x((b(),f("img",A,null,512)),[[de,e.image.file_path]]):S("",!0)]),v("div",O,[v("div",Q,[v("span",null,k(e.title),1)])])])))),128))])),_:1}),j(oe,{prop:"pay_price",label:"实付款"},{default:y((e=>[v("div",W,k(e.row.pay_price),1)])),_:1}),j(oe,{prop:"state_text",label:"交易状态"},{default:y((e=>[D(k(e.row.state_text),1)])),_:1}),j(oe,{prop:"pay_type.text",label:"支付方式"},{default:y((e=>[v("span",X,k(e.row.pay_type&&e.row.pay_type.text),1)])),_:1}),j(oe,{prop:"create_time",label:"下单时间"}),j(oe,{fixed:"right",label:"操作",width:"100"},{default:y((e=>[x((b(),w(ee,{onClick:a=>H.addClick(e.row),type:"text",size:"small"},{default:y((()=>[D("订单详情")])),_:2},1032,["onClick"])),[[ne,"/order/order/detail"]])])),_:1})])),_:1},8,["data"])),[[me,G.loading]])]),v("div",B,[j(ie,{onSizeChange:H.handleSizeChange,onCurrentChange:H.handleCurrentChange,background:"","current-page":G.curPage,"page-size":G.pageSize,layout:"total, prev, pager, next, jumper",total:G.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])}]]);export{E as default};
