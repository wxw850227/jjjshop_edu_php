import{i as e,s as t,e as a,F as s,d as o,y as r,f as l,c as i}from"./element-plus-fe2e4fed.js";import{D as c}from"./data-97822b17.js";import{d as m}from"./vuedraggable-cabcff94.js";import{ae as d,ap as u,o as n,c as p,a as h,X as g,P as y,S as j,W as f,Q as b,T as C,Y as I,$ as _,a1 as k}from"./@vue-0361ad4a.js";import{_ as v}from"./index-2e57a1f5.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-3c8001f5.js";import"./sortablejs-c079517e.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const x={class:"common-form"},w={class:"d-s-c f-w"},V={class:"item"},L={class:"delete-box"},A={alt:""};const D=v({components:{draggable:m},data:()=>({is_linkset:!1,index:null,loading:!0,CategoryList:[],currCategory:[]}),props:["curItem","selectedIndex","opts"],created(){this.getData()},watch:{selectedIndex:function(e,t){this.currCategory=this.currCategoryAuto(this.CategoryList)}},methods:{changeLink(e){this.is_linkset=!0,this.index=e},closeLinkset(e){this.is_linkset=!1,e&&(this.curItem.data[this.index].linkUrl=e.url,this.curItem.data[this.index].name="链接到 "+e.type+" "+e.name)},getData(){let e=this;c.cateLecturerList({},!0).then((t=>{e.CategoryList=t.data.list,e.currCategory=e.currCategoryAuto(t.data.list),e.loading=!1})).catch((t=>{e.loading=!1}))},currCategoryAuto(e){let t=[];for(let a=0;a<e.length;a++){let s=e[a];if(s.category_id==this.curItem.params.auto.category){t.push(s.category_id);break}if("[object Array]"==Object.prototype.toString.call(s.child)&&s.child.length>0)for(let e=0;e<s.child.length;e++)if(s.child[e].category_id==this.curItem.params.auto.category){t.push(s.category_id),t.push(s.child[e].category_id);break}}return t},check(e,t){let a=e?1:0;this.curItem.style.show[t]=a},changeCategory(e){if(e.length>0){let e=this.$refs.cascader.getCheckedNodes();this.curItem.params.auto.category=e[0].data.category_id}else this.curItem.params.auto.category=0}}},[["render",function(c,m,v,D,U,$){const z=e,N=t,S=a,F=s,P=o,q=d("CircleCloseFilled"),E=r,O=d("draggable"),Q=l,T=i,W=u("img-url");return n(),p("div",null,[h("div",x,[h("span",null,g(v.curItem.name),1)]),y(T,{size:"small",model:v.curItem,"label-width":"100px"},{default:j((()=>[y(S,{label:"讲师来源："},{default:j((()=>[y(N,{modelValue:v.curItem.params.source,"onUpdate:modelValue":m[0]||(m[0]=e=>v.curItem.params.source=e)},{default:j((()=>[y(z,{label:"auto"},{default:j((()=>[f("自动获取")])),_:1}),y(z,{label:"choice"},{default:j((()=>[f("手动选择")])),_:1})])),_:1},8,["modelValue"])])),_:1}),"auto"==v.curItem.params.source?(n(),p(b,{key:0},[y(S,{label:"讲师分类："},{default:j((()=>[U.CategoryList.length>0?(n(),C(F,{key:0,class:"ww100",modelValue:U.currCategory,"onUpdate:modelValue":m[1]||(m[1]=e=>U.currCategory=e),ref:"cascader",options:U.CategoryList,props:{checkStrictly:!0,children:"child",value:"category_id",label:"name"},onChange:$.changeCategory,clearable:""},null,8,["modelValue","options","onChange"])):I("",!0)])),_:1}),y(S,{label:"显示数量："},{default:j((()=>[y(P,{modelValue:v.curItem.params.auto.showNum,"onUpdate:modelValue":m[2]||(m[2]=e=>v.curItem.params.auto.showNum=e),class:"w-auto"},null,8,["modelValue"])])),_:1})],64)):I("",!0),"choice"==v.curItem.params.source?(n(),C(S,{key:1,label:"讲师列表："},{default:j((()=>[h("div",null,[y(O,{modelValue:v.curItem.data,"onUpdate:modelValue":m[3]||(m[3]=e=>v.curItem.data=e),options:{draggable:".item",animation:500},class:"choice-product-list"},{item:j((({element:e,index:t})=>[h("div",w,[h("div",V,[h("div",L,[y(E,{onClick:e=>c.$parent.onEditorDeleleData(t,v.selectedIndex)},{default:j((()=>[y(q)])),_:2},1032,["onClick"])]),_(h("img",A,null,512),[[W,e.image]])])])])),_:1},8,["modelValue","options"])]),h("div",null,[y(Q,{icon:"Plus",onClick:m[4]||(m[4]=k((e=>c.$parent.openLecturer(v.curItem.data,!0)),["stop"]))},{default:j((()=>[f("选择讲师")])),_:1})])])),_:1})):I("",!0)])),_:1},8,["model"])])}]]);export{D as default};
