import{_ as e}from"./Upload-78ee26ae.js";import{d as l,e as o,q as a,r as i,x as m,f as d,y as s,g as t,A as r,i as u,s as n}from"./element-plus-fe2e4fed.js";import{d as p}from"./vuedraggable-cabcff94.js";import{ae as c,ap as f,o as g,c as _,P as h,S as b,Q as v,a9 as y,T as k,Y as V,W as j,X as q,ah as w,a as U,$ as C,a1 as x}from"./@vue-0361ad4a.js";import{_ as P}from"./index-2e57a1f5.js";import"./AddCategory-c921a3c2.js";import"./file-56305e6b.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-3c8001f5.js";import"./sortablejs-c079517e.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const I={components:{Upload:e,draggable:p},data:()=>({isProductUpload:!1,config:{},file_name:"image",inputVisible:!1,inputValue:"",rules:{course_price:[{validator:(e,l,o)=>{""===l?o(new Error("请输入金额")):(l<=0&&o(new Error("价格不小于0.01")),o())},trigger:"blur"}]}}),inject:["form"],created(){},methods:{openProductUpload:function(e,l){this.file_name=l,"image"==e?this.config={total:9,file_type:"image"}:"video"==e&&(this.config={total:1,file_type:"video"}),this.isProductUpload=!0},handleClose(e){this.form.model.label.splice(this.form.model.label.indexOf(e),1)},showInput(){this.inputVisible=!0,this.$nextTick((e=>{this.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm(){let e=this.inputValue;e&&(""==this.form.model.label&&(this.form.model.label=[]),this.form.model.label.push(e)),this.inputVisible=!1,this.inputValue=""},returnProductImgsFunc(e){null!=e&&("video_link"==this.file_name?this.form.model.video_link=e[0].file_path:"banner"==this.file_name?(this.form.model.banner=this.form.model&&this.form.model.banner||[],e&&e.length>0&&(this.form.model.banner=this.form.model.banner.concat(e))):"image"==this.file_name?(this.form.model.image_id=e[0].file_id,this.form.model.image=e[0]):"video_image"==this.file_name?this.form.model.video_image=e[0].file_path:"wx"==this.file_name?this.form.model.wx_image=e[0].file_path:"qq"==this.file_name&&(this.form.model.qq_image=e[0].file_path)),this.isProductUpload=!1},deleteImg(e){this.form.model.banner.splice(e,1)},delVideo(){this.form.model.video_link="",this.form.model.video_image=""}}},Y=U("div",{class:"common-form"},"基本信息",-1),z={class:"draggable-list"},D=["src"],M=U("div",{class:"tips red"},"尺寸：263*148",-1),T={class:"draggable-list"},$={class:"item"},A=["onClick"],B=U("div",{class:"tips red"},"尺寸：750*421",-1),E={class:"mb16"},F={class:"draggable-list"},K={key:1},R=["src"],O={class:"draggable-list"},Q=["src"],S=U("div",{class:"tips red"},"尺寸：4:3",-1),W={class:"draggable-list"},X=["src"],G={class:"draggable-list"},H=["src"],J=U("div",{class:"common-form"},"其他设置",-1),L=U("span",null,"-",-1);const N=P(I,[["render",function(p,P,I,N,Z,ee){const le=l,oe=o,ae=a,ie=i,me=m,de=d,se=c("Plus"),te=s,re=t,ue=c("Close"),ne=c("draggable"),pe=r,ce=u,fe=n,ge=e,_e=f("img-url");return g(),_("div",null,[Y,h(oe,{label:"课程名称：",rules:[{required:!0,message:"请填写课程名称"}],prop:"model.title"},{default:b((()=>[h(le,{modelValue:ee.form.model.title,"onUpdate:modelValue":P[0]||(P[0]=e=>ee.form.model.title=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),h(oe,{label:"所属分类：",rules:[{required:!0,message:"请选择课程分类"}],prop:"model.category_id"},{default:b((()=>[h(ie,{modelValue:ee.form.model.category_id,"onUpdate:modelValue":P[1]||(P[1]=e=>ee.form.model.category_id=e)},{default:b((()=>[(g(!0),_(v,null,y(ee.form.category,(e=>(g(),_(v,{key:e.category_id},[h(ae,{value:e.category_id,label:e.name},null,8,["value","label"]),void 0!==e.child?(g(!0),_(v,{key:0},y(e.child,(e=>(g(),_(v,{key:e.category_id},[h(ae,{value:e.category_id,label:e.name,style:{"padding-left":"30px"}},null,8,["value","label"]),void 0!==e.child?(g(!0),_(v,{key:0},y(e.child,(e=>(g(),k(ae,{key:e.category_id,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])))),128)):V("",!0)],64)))),128)):V("",!0)],64)))),128))])),_:1},8,["modelValue"])])),_:1}),h(oe,{label:"标签：",prop:"label"},{default:b((()=>[(g(!0),_(v,null,y(ee.form.model.label,(e=>(g(),k(me,{key:e,closable:"","disable-transitions":!1,onClose:l=>ee.handleClose(e)},{default:b((()=>[j(q(e),1)])),_:2},1032,["onClose"])))),128)),Z.inputVisible?(g(),k(le,{key:0,class:"input-new-tag",maxlength:"100",modelValue:Z.inputValue,"onUpdate:modelValue":P[2]||(P[2]=e=>Z.inputValue=e),ref:"saveTagInput",size:"small",onKeyup:w(ee.handleInputConfirm,["enter","native"]),onBlur:ee.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):ee.form.model.label.length<=5?(g(),k(de,{key:1,class:"button-new-tag",size:"small",onClick:ee.showInput},{default:b((()=>[j("+ 添加")])),_:1},8,["onClick"])):V("",!0)])),_:1}),h(oe,{label:"课程封面：",rules:[{required:!0,message:"请上传课程封面"}],prop:"model.image_id"},{default:b((()=>[h(re,null,{default:b((()=>[U("div",z,[0==ee.form.model.image_id?(g(),_("div",{key:0,class:"item img-select",onClick:P[3]||(P[3]=e=>ee.openProductUpload("image","image"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])):V("",!0),0!=ee.form.model.image_id?(g(),_("div",{key:1,class:"item",onClick:P[4]||(P[4]=e=>ee.openProductUpload("image","image"))},[U("img",{src:ee.form.model.image.file_path,width:"100",height:"100"},null,8,D)])):V("",!0)]),M])),_:1})])),_:1}),h(oe,{label:"课程图片：",rules:[{required:!0,message:"请上传课程图片"}],prop:"model.banner"},{default:b((()=>[U("div",T,[h(ne,{class:"wrapper",modelValue:ee.form.model.banner,"onUpdate:modelValue":P[5]||(P[5]=e=>ee.form.model.banner=e)},{item:b((({element:e,index:l})=>[U("div",$,[C(U("img",null,null,512),[[_e,e.file_path]]),U("a",{href:"javascript:void(0);",class:"delete-btn",onClick:x((e=>ee.deleteImg(l)),["stop"])},[h(te,null,{default:b((()=>[h(ue)])),_:1})],8,A)])])),_:1},8,["modelValue"]),U("div",{class:"item img-select",onClick:P[6]||(P[6]=e=>ee.openProductUpload("image","banner"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])]),B])),_:1}),h(oe,{label:"课程视频："},{default:b((()=>[U("div",E,[h(le,{modelValue:ee.form.model.video_link,"onUpdate:modelValue":P[7]||(P[7]=e=>ee.form.model.video_link=e),class:"max-w460"},null,8,["modelValue"])]),U("div",F,[""==ee.form.model.video_link?(g(),_("div",{key:0,class:"item img-select",onClick:P[8]||(P[8]=e=>ee.openProductUpload("video","video_link"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])):V("",!0),""!=ee.form.model.video_link?(g(),_("div",K,[U("video",{width:"150",height:"150",src:ee.form.model.video_link,autoplay:!1,controls:""},"您的浏览器不支持 video 标签",8,R),U("div",null,[h(de,{icon:"Picture",onClick:ee.delVideo},{default:b((()=>[j("删除视频")])),_:1},8,["onClick"])])])):V("",!0)])])),_:1}),h(oe,{label:"视频封面："},{default:b((()=>[h(re,null,{default:b((()=>[U("div",O,[""==ee.form.model.video_image?(g(),_("div",{key:0,class:"item img-select",onClick:P[9]||(P[9]=e=>ee.openProductUpload("image","video_image"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])):V("",!0),""!=ee.form.model.video_image?(g(),_("div",{key:1,class:"item",onClick:P[10]||(P[10]=e=>ee.openProductUpload("image","video_image"))},[U("img",{src:ee.form.model.video_image,width:"100",height:"100"},null,8,Q)])):V("",!0)]),S])),_:1})])),_:1}),h(oe,{label:"微信群：",rules:[{required:!0,message:"请上传微信群"}],prop:"model.wx_image"},{default:b((()=>[h(re,null,{default:b((()=>[U("div",W,[""==ee.form.model.wx_image?(g(),_("div",{key:0,class:"item img-select",onClick:P[11]||(P[11]=e=>ee.openProductUpload("image","wx"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])):V("",!0),""!=ee.form.model.wx_image?(g(),_("div",{key:1,class:"item",onClick:P[12]||(P[12]=e=>ee.openProductUpload("image","wx"))},[U("img",{src:ee.form.model.wx_image,width:"100",height:"100"},null,8,X)])):V("",!0)])])),_:1})])),_:1}),h(oe,{label:"qq群：",rules:[{required:!0,message:"请上传qq群"}],prop:"model.qq_image"},{default:b((()=>[h(re,null,{default:b((()=>[U("div",G,[""==ee.form.model.qq_image?(g(),_("div",{key:0,class:"item img-select",onClick:P[13]||(P[13]=e=>ee.openProductUpload("image","qq"))},[h(te,null,{default:b((()=>[h(se)])),_:1})])):V("",!0),0!=ee.form.model.qq_image?(g(),_("div",{key:1,class:"item",onClick:P[14]||(P[14]=e=>ee.openProductUpload("image","qq"))},[U("img",{src:ee.form.model.qq_image,width:"100",height:"100"},null,8,H)])):V("",!0)])])),_:1})])),_:1}),J,h(oe,{label:"课程时间",rules:[{required:!0,message:" "}],prop:"model.start_time"},{default:b((()=>[h(pe,{modelValue:ee.form.model.start_time,"onUpdate:modelValue":P[15]||(P[15]=e=>ee.form.model.start_time=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"选择开始时间"},null,8,["modelValue"]),L,h(pe,{modelValue:ee.form.model.end_time,"onUpdate:modelValue":P[16]||(P[16]=e=>ee.form.model.end_time=e),type:"date","value-format":"YYYY-MM-DD",placeholder:"选择结束时间"},null,8,["modelValue"])])),_:1}),h(oe,{label:"课时：",rules:[{required:!0,message:" "}],prop:"model.class_time"},{default:b((()=>[h(le,{type:"number",min:"0",modelValue:ee.form.model.class_time,"onUpdate:modelValue":P[17]||(P[17]=e=>ee.form.model.class_time=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),h(oe,{label:"课程排序：",rules:[{required:!0,message:" "}],prop:"model.sort"},{default:b((()=>[h(le,{type:"number",min:"0",modelValue:ee.form.model.sort,"onUpdate:modelValue":P[18]||(P[18]=e=>ee.form.model.sort=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),h(oe,{label:"收费方式：",prop:"model.is_pay"},{default:b((()=>[h(fe,{modelValue:ee.form.model.is_pay,"onUpdate:modelValue":P[19]||(P[19]=e=>ee.form.model.is_pay=e)},{default:b((()=>[h(ce,{label:0},{default:b((()=>[j("免费")])),_:1}),h(ce,{label:1},{default:b((()=>[j("付费")])),_:1})])),_:1},8,["modelValue"])])),_:1}),1==ee.form.model.is_pay?(g(),k(oe,{key:0,rules:Z.rules.course_price,label:"价格：",prop:"model.course_price"},{default:b((()=>[h(le,{type:"number",min:"0.01",modelValue:ee.form.model.course_price,"onUpdate:modelValue":P[20]||(P[20]=e=>ee.form.model.course_price=e),class:"max-w460"},null,8,["modelValue"])])),_:1},8,["rules"])):V("",!0),h(oe,{label:"状态：",prop:"model.is_show"},{default:b((()=>[h(fe,{modelValue:ee.form.model.is_show,"onUpdate:modelValue":P[21]||(P[21]=e=>ee.form.model.is_show=e)},{default:b((()=>[h(ce,{label:0},{default:b((()=>[j("显示")])),_:1}),h(ce,{label:1},{default:b((()=>[j("隐藏")])),_:1})])),_:1},8,["modelValue"])])),_:1}),Z.isProductUpload?(g(),k(ge,{key:1,config:Z.config,isupload:Z.isProductUpload,onReturnImgs:ee.returnProductImgsFunc},{default:b((()=>[j(" 上传图片")])),_:1},8,["config","isupload","onReturnImgs"])):V("",!0)])}]]);export{N as default};
