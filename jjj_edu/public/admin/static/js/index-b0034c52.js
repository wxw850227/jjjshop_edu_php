import{E as e,a,f as t,d as s,e as i,c as l,l as o,m as r,n,v as p}from"./element-plus-fe2e4fed.js";import{L as c}from"./live-4f34f8e4.js";import{_ as m}from"./index-2e57a1f5.js";import{o as d,c as u,a as h,P as g,S as b,W as j,$ as _,T as v,X as f}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const y={data:()=>({searchForm:{},loading:!0,pageSize:10,totalDataNumber:0,curPage:1,tableData:[]}),created(){this.getData()},filters:{convertStatus:function(e){let a="";switch(e){case 101:a="直播中";break;case 102:a="未开始";break;case 103:a="已结束";break;case 104:a="禁播";break;case 105:a="暂停";break;case 106:a="异常";break;case 107:a="已过期"}return a}},methods:{onSubmit(){this.curPage=1,this.getData()},handleCurrentChange(e){this.curPage=e,this.getData()},handleSizeChange(e){this.pageSize=e,this.getData()},getData(){let e=this,a=e.searchForm;a.page=e.curPage,a.list_rows=e.pageSize,e.loading=!0,c.getList(a,!0).then((a=>{e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,e.loading=!1})).catch((a=>{e.loading=!1}))},synLive(){let e=this;e.loading=!0,c.syn({},!0).then((a=>{e.loading=!1})).catch((a=>{e.loading=!1}))},setTop(a){let t=this;c.settop({live_id:a.live_id,is_top:0==a.is_top?1:0}).then((a=>{e({message:"置顶成功",type:"success"}),t.getData()}))},editClick(){},delClick:function(t){let s=this;a.confirm("删除后不可恢复，确认删除该记录吗?","提示",{type:"warning"}).then((()=>{c.del({live_id:t.live_id}).then((a=>{e({message:"删除成功",type:"success"}),s.getData()}))}))}}},C={class:"common-form d-s-c"},k=h("span",null,"直播同步",-1),z={class:"ml20 flex-1 d-b-c"},D={class:"live-list"},S={class:"table-wrap"},w={key:0,class:"gray"},x={key:1,class:"red"},P={class:"pagination"};const F=m(y,[["render",function(e,a,c,m,y,F){const L=t,N=s,T=i,V=l,q=o,E=r,I=n,U=p;return d(),u("div",null,[h("div",C,[k,h("div",z,[g(L,{type:"primary",size:"small",icon:"Plus",onClick:F.synLive},{default:b((()=>[j("同步直播")])),_:1},8,["onClick"]),g(V,{size:"small",inline:!0,model:y.searchForm,class:"demo-form-inline"},{default:b((()=>[g(T,{label:""},{default:b((()=>[g(N,{modelValue:y.searchForm.search,"onUpdate:modelValue":a[0]||(a[0]=e=>y.searchForm.search=e),placeholder:"请输入直播间名称/主播昵称"},null,8,["modelValue"])])),_:1}),g(T,null,{default:b((()=>[g(L,{type:"primary",icon:"Search",onClick:F.onSubmit},{default:b((()=>[j("查询")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])]),h("div",D,[h("div",S,[_((d(),v(E,{size:"small",data:y.tableData,border:"",style:{width:"100%"}},{default:b((()=>[g(q,{prop:"live_id",label:"直播间ID"}),g(q,{prop:"name",label:"直播间名称"}),g(q,{prop:"anchor_name",label:"主播昵称"}),g(q,{prop:"start_time_text",label:"直播开始时间"}),g(q,{prop:"end_time_text",label:"直播结束时间"}),g(q,{prop:"live_status",label:"直播间状态"},{default:b((a=>[j(f(a.row.live_status|e.convertStatus),1)])),_:1}),g(q,{prop:"is_top",label:"置顶"},{default:b((e=>[0==e.row.is_top?(d(),u("span",w,"未置顶")):(d(),u("span",x,"已置顶"))])),_:1}),g(q,{prop:"create_time",label:"更新时间"}),g(q,{fixed:"right",label:"操作",width:"80"},{default:b((e=>[g(L,{onClick:a=>F.setTop(e.row),type:"text",size:"small"},{default:b((()=>[j(f(0==e.row.is_top?"设为置顶":"取消置顶"),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[U,y.loading]])])]),h("div",P,[g(I,{onSizeChange:F.handleSizeChange,onCurrentChange:F.handleCurrentChange,background:"","current-page":y.curPage,"page-size":y.pageSize,layout:"total, prev, pager, next, jumper",total:y.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])}]]);export{F as default};
