import{E as e,i as l,e as a,d as o,q as s,r,c as m,f as d}from"./element-plus-fe2e4fed.js";import{L as t}from"./live-57361308.js";import{_ as i}from"./index-68daabb5.js";import{o as u,c as n,P as p,S as f,a as c,W as g,Q as _,a9 as V,T as y}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const b={data:()=>({form:{key:"",app_id:"",sign_key:"",is_open:0,is_record:0,is_audit:1,gift_name:"",vendor:"",region:"",bucket:"",accessKey:"",secretKey:"",username:"",password:"",domain:""},loading:!1,storage:[],region_arr:[]}),created(){this.getSetting()},methods:{getSetting(){let e=this;t.getSetting({},!0).then((l=>{e.loading=!1,e.form=l.data.vars.values,e.storage=l.data.storage,e.showRegion(e.form.vendor)})).catch((e=>{}))},onSubmit(){let l=this,a=l.form;l.$refs.form.validate((o=>{o&&(l.loading=!0,t.setSetting(a,!0).then((a=>{l.loading=!1,e({message:"恭喜你，保存成功",type:"success"})})).catch((e=>{l.loading=!1})))}))},showRegion(e){this.region="";for(let l in this.storage)this.storage[l].vendor==e&&(this.region_arr=this.storage[l].region)}}},j={class:"user"},h=c("div",{class:"common-form"},"基础设置",-1),v=c("p",{class:"gray"},"前台充值显示的礼物币名称",-1),w=c("div",{class:"common-form"},"声网sdk设置",-1),x=c("p",{class:"gray"},[g("声网APPID,"),c("a",{href:"https://www.agora.io/",target:"_blank"},"申请地址")],-1),k=c("p",{class:"gray"},"声网证书",-1),U=c("p",{class:"gray"},"如果需要录制请填写",-1),K=c("p",{class:"gray"},"如果需要录制请选择",-1),S=c("p",{class:"gray"},"第三方云存储的 bucket",-1),P=c("p",{class:"gray"},"第三方云存储的 accessKey",-1),R=c("p",{class:"gray"},"第三方云存储的 secretKey,建议提供只写权限的访问密钥",-1),D=c("p",{class:"gray"},'存储位置。举个例子，fileNamePrefix = ["directory1","directory2"]，将在录制文件名前加上前缀 "directory1/directory2/"，即 directory1/directory2/xxx.m3u8。前缀长度（包括斜杠）不得超过 128 个字符。字符串中不得出现斜杠',-1),q=c("p",{class:"gray"},"声网RESTful 客户ID",-1),E=c("p",{class:"gray"},"声网RESTful 客户秘钥",-1),N=c("p",{class:"gray"},"存储空间域名 Domain",-1),T={class:"common-button-wrapper"};const z=i(b,[["render",function(e,t,i,b,z,C){const I=l,A=a,L=o,Q=s,W=r,$=m,B=d;return u(),n("div",j,[p($,{size:"small",ref:"form",model:z.form,"label-width":"150px"},{default:f((()=>[h,p(A,{label:"是否开启直播"},{default:f((()=>[c("div",null,[p(I,{modelValue:z.form.is_open,"onUpdate:modelValue":t[0]||(t[0]=e=>z.form.is_open=e),label:"1"},{default:f((()=>[g("开启")])),_:1},8,["modelValue"]),p(I,{modelValue:z.form.is_open,"onUpdate:modelValue":t[1]||(t[1]=e=>z.form.is_open=e),label:"0"},{default:f((()=>[g("关闭")])),_:1},8,["modelValue"])])])),_:1}),p(A,{label:"是否开启审核"},{default:f((()=>[c("div",null,[p(I,{modelValue:z.form.is_audit,"onUpdate:modelValue":t[2]||(t[2]=e=>z.form.is_audit=e),label:"1"},{default:f((()=>[g("开启")])),_:1},8,["modelValue"]),p(I,{modelValue:z.form.is_audit,"onUpdate:modelValue":t[3]||(t[3]=e=>z.form.is_audit=e),label:"0"},{default:f((()=>[g("关闭")])),_:1},8,["modelValue"])])])),_:1}),p(A,{label:"礼物币名称",rules:[{required:!0,message:" "}],prop:"gift_name"},{default:f((()=>[p(L,{modelValue:z.form.gift_name,"onUpdate:modelValue":t[4]||(t[4]=e=>z.form.gift_name=e),placeholder:"礼物币名称",class:"max-w460"},null,8,["modelValue"]),v])),_:1}),w,p(A,{label:"app_id",rules:[{required:!0,message:" "}],prop:"app_id"},{default:f((()=>[p(L,{modelValue:z.form.app_id,"onUpdate:modelValue":t[5]||(t[5]=e=>z.form.app_id=e),class:"max-w460"},null,8,["modelValue"]),x])),_:1}),p(A,{label:"key",rules:[{required:!0,message:" "}],prop:"key"},{default:f((()=>[p(L,{modelValue:z.form.key,"onUpdate:modelValue":t[6]||(t[6]=e=>z.form.key=e),class:"max-w460"},null,8,["modelValue"]),k])),_:1}),p(A,{label:"是否开启录制"},{default:f((()=>[c("div",null,[p(I,{modelValue:z.form.is_record,"onUpdate:modelValue":t[7]||(t[7]=e=>z.form.is_record=e),label:"1"},{default:f((()=>[g("开启")])),_:1},8,["modelValue"]),p(I,{modelValue:z.form.is_record,"onUpdate:modelValue":t[8]||(t[8]=e=>z.form.is_record=e),label:"0"},{default:f((()=>[g("关闭")])),_:1},8,["modelValue"])])])),_:1}),p(A,{label:"存储选择"},{default:f((()=>[p(W,{modelValue:z.form.vendor,"onUpdate:modelValue":t[9]||(t[9]=e=>z.form.vendor=e),placeholder:"请选择",onChange:C.showRegion},{default:f((()=>[(u(!0),n(_,null,V(z.storage,((e,l)=>(u(),y(Q,{key:l,label:e.name,value:e.vendor},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),U])),_:1}),p(A,{label:"存储地区选择"},{default:f((()=>[p(W,{modelValue:z.form.region,"onUpdate:modelValue":t[10]||(t[10]=e=>z.form.region=e),placeholder:"请选择"},{default:f((()=>[(u(!0),n(_,null,V(z.region_arr,((e,l)=>(u(),y(Q,{key:e,label:l,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),K])),_:1}),p(A,{label:"bucket",prop:"bucket"},{default:f((()=>[p(L,{modelValue:z.form.bucket,"onUpdate:modelValue":t[11]||(t[11]=e=>z.form.bucket=e),class:"max-w460"},null,8,["modelValue"]),S])),_:1}),p(A,{label:"accessKey",prop:"accessKey"},{default:f((()=>[p(L,{modelValue:z.form.accessKey,"onUpdate:modelValue":t[12]||(t[12]=e=>z.form.accessKey=e),class:"max-w460"},null,8,["modelValue"]),P])),_:1}),p(A,{label:"secretKey",prop:"secretKey"},{default:f((()=>[p(L,{modelValue:z.form.secretKey,"onUpdate:modelValue":t[13]||(t[13]=e=>z.form.secretKey=e),class:"max-w460"},null,8,["modelValue"]),R])),_:1}),p(A,{label:"fileNamePrefix",prop:"fileNamePrefix"},{default:f((()=>[p(L,{modelValue:z.form.fileNamePrefix,"onUpdate:modelValue":t[14]||(t[14]=e=>z.form.fileNamePrefix=e),class:"max-w460"},null,8,["modelValue"]),D])),_:1}),p(A,{label:"RESTful 客户ID",prop:"username"},{default:f((()=>[p(L,{modelValue:z.form.username,"onUpdate:modelValue":t[15]||(t[15]=e=>z.form.username=e),class:"max-w460"},null,8,["modelValue"]),q])),_:1}),p(A,{label:"RESTful客户秘钥",prop:"password"},{default:f((()=>[p(L,{modelValue:z.form.password,"onUpdate:modelValue":t[16]||(t[16]=e=>z.form.password=e),type:"password",class:"max-w460"},null,8,["modelValue"]),E])),_:1}),p(A,{label:"空间域名 Domain",prop:"domain"},{default:f((()=>[p(L,{modelValue:z.form.domain,"onUpdate:modelValue":t[17]||(t[17]=e=>z.form.domain=e),class:"max-w460"},null,8,["modelValue"]),N])),_:1})])),_:1},8,["model"]),c("div",T,[p(B,{size:"small",type:"primary",onClick:C.onSubmit,disabled:z.loading},{default:f((()=>[g("保存")])),_:1},8,["onClick","disabled"])])])}]]);export{z as default};
