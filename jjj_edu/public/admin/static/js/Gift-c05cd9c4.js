import{l as e,m as a,n as t,o as s,v as i}from"./element-plus-fe2e4fed.js";import{L as o}from"./live-4f34f8e4.js";import{_ as r}from"./index-2e57a1f5.js";import{o as l,T as n,S as p,a as d,$ as m,P as c}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const u={data:()=>({loading:!0,curPage:1,pageSize:15,totalDataNumber:0,tableData:[],dialogVisible:!1}),props:{is_open:Boolean,curModel:Object},watch:{is_open:function(e,a){e!=a&&e&&(this.dialogVisible=e,e&&this.getTableList())}},created(){},methods:{handleCurrentChange(e){this.curPage=e,this.getTableList()},handleSizeChange(e){this.curPage=1,this.pageSize=e,this.getTableList()},getTableList(){let e=this;e.loading=!0;let a={};a.page=e.curPage,a.list_rows=e.pageSize,a.room_id=e.curModel.room_id,o.getUserGift(a,!0).then((a=>{e.loading=!1,e.tableData=a.data.list.data,e.totalDataNumber=a.data.list.total,e.gradeList=a.data.grade})).catch((a=>{e.loading=!1}))},cancelFunc(e){this.$emit("close",{type:"error"})}}},g={class:"product-content"},h={class:"table-wrap"},j={class:"pagination"};const b=r(u,[["render",function(o,r,u,b,z,C){const f=e,v=a,S=t,_=s,w=i;return l(),n(_,{title:"查看礼物排行",modelValue:z.dialogVisible,"onUpdate:modelValue":r[0]||(r[0]=e=>z.dialogVisible=e),onClose:C.cancelFunc,"close-on-press-escape":!1,width:"800px"},{default:p((()=>[d("div",g,[d("div",h,[m((l(),n(v,{data:z.tableData,size:"small",border:"",style:{width:"100%"}},{default:p((()=>[c(f,{prop:"user.nickName",label:"用户名"}),c(f,{prop:"gift_num",label:"礼物数"})])),_:1},8,["data"])),[[w,z.loading]])]),d("div",j,[c(S,{onSizeChange:C.handleSizeChange,onCurrentChange:C.handleCurrentChange,background:"","current-page":z.curPage,"page-sizes":[2,10,20,50,100],"page-size":z.pageSize,layout:"total, prev, pager, next, jumper",total:z.totalDataNumber},null,8,["onSizeChange","onCurrentChange","current-page","page-size","total"])])])])),_:1},8,["modelValue","onClose"])}]]);export{b as default};
