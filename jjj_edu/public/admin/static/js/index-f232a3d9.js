import{E as e,d as a,e as s,f as o,j as l,h as r,c as t,v as i}from"./element-plus-fe2e4fed.js";import{_ as m}from"./Upload-78ee26ae.js";import{S as p}from"./setting-b4b1b0fd.js";import{_ as d,u as n,f as u}from"./index-2e57a1f5.js";import{ap as c,$ as f,o as g,c as h,P as j,S as v,a as y,W as _,T as b,Y as V}from"./@vue-0361ad4a.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./AddCategory-c921a3c2.js";import"./file-56305e6b.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const{changShop:U}=n(),w={components:{Upload:m},data:()=>({loading:!0,form:{name:"",is_get_log:0,service:"",privacy:"",avatarUrl:""},isupload:!1}),created(){this.getParams()},methods:{contentChangeFunc(e){this.ueditor.text=e},getParams(){let e=this;p.storeDetail({},!0).then((a=>{let s=a.data.vars.values;e.form=u(e.form,s),e.form.service=s.policy.service,e.form.privacy=s.policy.privacy,e.loading=!1})).catch((e=>{}))},onSubmit(){let a=this,s=this.form;a.$refs.form.validate((o=>{o&&(a.loading=!0,p.editStore(s,!0).then((o=>{a.loading=!1,e({message:"恭喜你，商城设置成功",type:"success"}),U(s.name),a.$router.push("/setting/store/index")})).catch((e=>{a.loading=!1})))}))},chooseImg(e){this.type=e,this.isupload=!0},returnImgsFunc(e){this.isupload=!1,null!=e&&e.length>0&&"avatarUrl"==this.type&&(this.form.avatarUrl=e[0].file_path)}}},x={class:"product-add"},I=y("div",{class:"common-form"},"平台设置",-1),S=y("div",{class:"common-form"},"会员设置",-1),k={class:"ww100"},q={class:"mt10",width:200},C=y("div",{class:"common-form"},"日志记录",-1),z=y("div",{class:"tips"},"如果记录，日志量会有点大",-1),F=y("div",{class:"common-form"},"政策协议",-1),P={class:"common-button-wrapper"};const $=d(w,[["render",function(e,p,d,n,u,U){const w=a,$=s,R=o,A=l,D=r,E=t,H=m,T=c("img-url"),W=i;return f((g(),h("div",x,[j(E,{size:"small",ref:"form",model:u.form,"label-width":"150px"},{default:v((()=>[I,j($,{label:"平台名称",rules:[{required:!0,message:" "}],prop:"name"},{default:v((()=>[j(w,{modelValue:u.form.name,"onUpdate:modelValue":p[0]||(p[0]=e=>u.form.name=e),placeholder:"平台名称",class:"max-w460"},null,8,["modelValue"])])),_:1}),S,j($,{label:"默认头像",rules:[{required:!0,message:"请选择默认头像"}]},{default:v((()=>[y("div",k,[j(R,{onClick:p[1]||(p[1]=e=>U.chooseImg("avatarUrl"))},{default:v((()=>[_("选择图片")])),_:1})]),f(y("img",q,null,512),[[T,u.form.avatarUrl]])])),_:1}),C,j($,{label:"是否记录查询日志",prop:"customer"},{default:v((()=>[j(A,{modelValue:u.form.is_get_log,"onUpdate:modelValue":p[2]||(p[2]=e=>u.form.is_get_log=e)},{default:v((()=>[_("是否记录查询日志")])),_:1},8,["modelValue"]),z])),_:1}),F,j($,{label:"服务协议",rules:[{required:!0,message:" "}],prop:"service"},{default:v((()=>[j(w,{modelValue:u.form.service,"onUpdate:modelValue":p[3]||(p[3]=e=>u.form.service=e),placeholder:"",class:"max-w460"},null,8,["modelValue"]),j(D,{class:"tips"},{default:v((()=>[_("进入app和登录、注册页面显示 ")])),_:1})])),_:1}),j($,{label:"隐私政策",rules:[{required:!0,message:" "}],prop:"privacy"},{default:v((()=>[j(w,{modelValue:u.form.privacy,"onUpdate:modelValue":p[4]||(p[4]=e=>u.form.privacy=e),placeholder:"",class:"max-w460"},null,8,["modelValue"])])),_:1}),y("div",P,[j(R,{type:"primary",onClick:U.onSubmit,loading:u.loading},{default:v((()=>[_("提交")])),_:1},8,["onClick","loading"])])])),_:1},8,["model"]),u.isupload?(g(),b(H,{key:0,isupload:u.isupload,type:e.type,config:{total:3},onReturnImgs:U.returnImgsFunc},null,8,["isupload","type","onReturnImgs"])):V("",!0)])),[[W,u.loading]])}]]);export{$ as default};
