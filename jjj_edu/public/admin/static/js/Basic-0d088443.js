import{_ as e}from"./Upload-ecf46188.js";import{d as l,e as a,q as o,r as s,x as i,f as t,y as m,g as d,G as r}from"./element-plus-fe2e4fed.js";import{d as u}from"./vuedraggable-cabcff94.js";import{ae as n,o as p,c,P as f,S as g,Q as h,a9 as b,T as j,Y as _,W as y,X as v,ah as V,a as k,a1 as U,bh as x,bf as I}from"./@vue-0361ad4a.js";import{_ as C}from"./index-49a7d7a3.js";import"./AddCategory-1e090b14.js";import"./file-437a81f7.js";import"./lodash-es-3593bb86.js";import"./async-validator-cf877c1f.js";import"./@vueuse-19751edd.js";import"./dayjs-3a594381.js";import"./call-bind-8544b80b.js";import"./get-intrinsic-bac01933.js";import"./has-symbols-456daba2.js";import"./has-proto-4a87f140.js";import"./function-bind-72d06d3b.js";import"./has-885c3436.js";import"./@element-plus-1634e2d0.js";import"./@popperjs-b78c3215.js";import"./escape-html-1590d737.js";import"./normalize-wheel-es-3222b0a2.js";import"./@ctrl-91de2ec7.js";import"./vue-3c8001f5.js";import"./sortablejs-c079517e.js";import"./vue-router-64e93849.js";import"./pinia-3f36854e.js";import"./axios-15f6fe35.js";import"./qs-c6aa5595.js";import"./side-channel-b02c3a2b.js";import"./object-inspect-bd98d4ca.js";import"./vue-clipboard2-259f629a.js";import"./clipboard-e6665d4e.js";import"./vue-ueditor-wrap-f5452c05.js";const w={components:{Upload:e,draggable:u},data:()=>({isProductUpload:!1,config:{},file_name:"image",inputVisible:!1,inputValue:""}),inject:["form"],created(){},methods:{openProductUpload:function(e,l){this.file_name=l,this.config={total:1,file_type:"image"},this.isProductUpload=!0},handleClose(e){this.form.model.label.splice(this.form.model.label.indexOf(e),1)},showInput(){this.inputVisible=!0,this.$nextTick((e=>{this.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm(){let e=this.inputValue;e&&(""==this.form.model.label&&(this.form.model.label=[]),this.form.model.label.push(e)),this.inputVisible=!1,this.inputValue=""},returnProductImgsFunc(e){null!=e&&"image"==this.file_name&&(this.form.model.image={file_path:e[0].file_path},this.form.model.image_id=e[0].file_id),this.isProductUpload=!1},deleteImg(e){this.form.model.image_id=0}}},P=e=>(x("data-v-c2579ca4"),e=e(),I(),e),q=P((()=>k("div",{class:"common-form"},"基本信息",-1))),z={class:"draggable-list"},T=["src"],$=P((()=>k("div",{class:"tips red"},"尺寸：1:1",-1))),A={class:"block d-s-c",style:{height:"32px"}},B=P((()=>k("div",{class:"common-form"},"其他设置",-1)));const F=C(w,[["render",function(u,x,I,C,w,P){const F=l,K=a,R=o,G=s,O=i,Q=t,S=n("Plus"),W=m,X=n("Close"),Y=d,D=r,E=e;return p(),c("div",null,[q,f(K,{label:"讲师名称：",rules:[{required:!0,message:"请填写讲师名称"}],prop:"model.name"},{default:g((()=>[f(F,{modelValue:P.form.model.name,"onUpdate:modelValue":x[0]||(x[0]=e=>P.form.model.name=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),f(K,{label:"简介："},{default:g((()=>[f(F,{type:"textarea",rows:"6",modelValue:P.form.model.describe,"onUpdate:modelValue":x[1]||(x[1]=e=>P.form.model.describe=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),f(K,{label:"所属分类：",rules:[{required:!0,message:"请选择讲师分类"}],prop:"model.category_id"},{default:g((()=>[f(G,{modelValue:P.form.model.category_id,"onUpdate:modelValue":x[2]||(x[2]=e=>P.form.model.category_id=e)},{default:g((()=>[(p(!0),c(h,null,b(P.form.category,(e=>(p(),c(h,{key:e.category_id},[f(R,{value:e.category_id,label:e.name},null,8,["value","label"]),void 0!==e.child?(p(!0),c(h,{key:0},b(e.child,(e=>(p(),c(h,{key:e.category_id},[f(R,{value:e.category_id,label:e.name,style:{"padding-left":"30px"}},null,8,["value","label"]),void 0!==e.child?(p(!0),c(h,{key:0},b(e.child,(e=>(p(),j(R,{key:e.category_id,value:e.category_id,label:e.name,style:{"padding-left":"60px"}},null,8,["value","label"])))),128)):_("",!0)],64)))),128)):_("",!0)],64)))),128))])),_:1},8,["modelValue"])])),_:1}),f(K,{label:"标签：",rules:[{required:!0,message:"请填写标签"}],prop:"model.label"},{default:g((()=>[(p(!0),c(h,null,b(P.form.model.label,(e=>(p(),j(O,{key:e,closable:"","disable-transitions":!1,onClose:l=>P.handleClose(e)},{default:g((()=>[y(v(e),1)])),_:2},1032,["onClose"])))),128)),w.inputVisible?(p(),j(F,{key:0,class:"input-new-tag",maxlength:"100",modelValue:w.inputValue,"onUpdate:modelValue":x[3]||(x[3]=e=>w.inputValue=e),ref:"saveTagInput",size:"small",onKeyup:V(P.handleInputConfirm,["enter","native"]),onBlur:P.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):P.form.model.label.length<1?(p(),j(Q,{key:1,class:"button-new-tag",size:"small",onClick:P.showInput},{default:g((()=>[y("+ 添加")])),_:1},8,["onClick"])):_("",!0)])),_:1}),f(K,{label:"讲师封面：",rules:[{required:!0,message:"请上传封面"}],prop:"model.image_id"},{default:g((()=>[f(Y,null,{default:g((()=>[k("div",z,[0==P.form.model.image_id?(p(),c("div",{key:0,class:"item img-select",onClick:x[4]||(x[4]=e=>P.openProductUpload("image","image"))},[f(W,null,{default:g((()=>[f(S)])),_:1})])):(p(),c("div",{key:1,class:"item",onClick:x[6]||(x[6]=e=>P.openProductUpload("image","image"))},[P.form.model.image?(p(),c("img",{key:0,src:P.form.model.image.file_path,width:"100",height:"100"},null,8,T)):_("",!0),k("a",{href:"javascript:void(0);",class:"delete-btn",onClick:x[5]||(x[5]=U(((...e)=>P.deleteImg&&P.deleteImg(...e)),["stop"]))},[f(W,null,{default:g((()=>[f(X)])),_:1})])]))]),$])),_:1})])),_:1}),f(K,{label:"讲师星级:",rules:[{required:!0,message:"讲师星级"}],prop:"model.star"},{default:g((()=>[k("div",A,[f(D,{modelValue:P.form.model.star,"onUpdate:modelValue":x[7]||(x[7]=e=>P.form.model.star=e)},null,8,["modelValue"])])])),_:1}),B,f(K,{label:"讲师排序：",rules:[{required:!0,message:" "}],prop:"model.sort"},{default:g((()=>[f(F,{type:"number",min:"0",modelValue:P.form.model.sort,"onUpdate:modelValue":x[8]||(x[8]=e=>P.form.model.sort=e),class:"max-w460"},null,8,["modelValue"])])),_:1}),w.isProductUpload?(p(),j(E,{key:0,config:w.config,isupload:w.isProductUpload,onReturnImgs:P.returnProductImgsFunc},{default:g((()=>[y("上传图片")])),_:1},8,["config","isupload","onReturnImgs"])):_("",!0)])}],["__scopeId","data-v-c2579ca4"]]);export{F as default};
