import{_ as e,A as t,o as s,a,w as i,f as n,d as l,e as o,b as d,r,F as c,p as u,u as p,i as _,y as f,t as g,n as x,k as h}from"./index-911d5a8b.js";import{_ as m}from"./u-icon.06e4a6f5.js";import{r as y}from"./uni-app.es.a09d33e5.js";import{_ as k}from"./u-parse.5133a666.js";import{_ as b}from"./score.53a72e3e.js";const q=e({data:()=>({paper_id:0,time:"",question:[],answer:[],Qsindex:0,clock:!1}),onLoad(e){this.paper_id=e.paper_id,this.getData(),this.$fire.on("Qsindex",(e=>{this.Qsindex=e}))},watch:{},computed:{currentQues(){return this.Qsindex=this.Qsindex||0,this.detail.question&&this.detail.question?this.detail.question[this.Qsindex]:{}}},methods:{FavFunc(e){this._post("paper.Favorite/fav",{paper_id:this.paper_id,question_id:e.question_id,paper_question_id:e.paper_question_id},(s=>{1==e.is_fav?(t({icon:"none",title:"取消成功"}),e.is_fav=0):(t({icon:"none",title:"收藏成功，请到“我的->我的收藏”查看和管理哦"}),e.is_fav=1)}))},isSelect:(e,t,s)=>2==e.question.question_type?-1!=t.indexOf(s):t===s,getAnswer:e=>Array.isArray(e)?e.join():e,getData(){let e=this;e._get("paper.Paper/resultAnswer",{paper_id:e.paper_id},(t=>{e.detail=t.data.detail,e.question=e.detail.question}))},subAnser(){let e=this,t=e.question[e.Qsindex].answer;if(!t||e.clock)return;let s=e.question[e.Qsindex].id;e.clock=!0;e._get("paper.Paper/submitAnswer",{id:s,answer:t},(t=>{e.clock=!1,e.question[e.Qsindex].answer_state=1}),(t=>{e.clock=!1}))},slectAn(e,t){this.question[e].answer_state>0||(this.question[e].answer=this.getIndex(t))},getNum:e=>String.fromCharCode(e-65),getIndex:e=>String.fromCharCode(e+65),previous(){this.Qsindex<1||this.clock||this.Qsindex--},next(){this.Qsindex+1>=this.question.length||this.clock||this.Qsindex++}}},[["render",function(e,t,q,w,Q,v){const C=y(p("u-icon"),m),F=_,A=f,E=n,j=h,I=y(p("u-parse"),k);return s(),a(E,{class:"p24",style:{"padding-bottom":"120rpx"}},{default:i((()=>[l(E,{class:"top-box d-b-c"},{default:i((()=>[l(A,{class:"datika-btn",onClick:t[0]||(t[0]=t=>e.gotoPage("/pages/examination/exam/answerSheet?type=1&paper_id="+Q.paper_id))},{default:i((()=>[l(C,{size:"42rpx",name:"/static/image/datika.png"}),l(F,{class:"ml10"},{default:i((()=>[o("答题卡")])),_:1})])),_:1})])),_:1}),(s(!0),d(c,null,r(Q.question,((e,t)=>(s(),d(c,{key:t},[Q.Qsindex==t?(s(),a(E,{key:0,class:"center-box mb24"},{default:i((()=>[l(E,{class:"d-b-c mb24"},{default:i((()=>[l(E,{class:"type-box d-c-c"},{default:i((()=>[l(C,{width:"96rpx",height:"92rpx",name:"/static/image/tixing_bg.png"}),l(E,{class:"f24 white type-name"},{default:i((()=>[o(g(e.question.type_name),1)])),_:2},1024)])),_:2},1024),l(E,{class:"gray9 f28"},{default:i((()=>[l(F,{class:"gray3"},{default:i((()=>[o(g(t+1),1)])),_:2},1024),o("/"+g(Q.question.length),1)])),_:2},1024)])),_:2},1024),l(E,{class:"f32 gray3",style:{"margin-bottom":"40rpx"}},{default:i((()=>[o(g(e.question.title),1)])),_:2},1024),l(E,null,{default:i((()=>[(s(!0),d(c,null,r(e.question.option,((t,n)=>(s(),a(E,{class:x(["anser-item",{active:v.isSelect(e,e.answer,v.getIndex(n))}]),key:n},{default:i((()=>[l(F,{class:""},{default:i((()=>[o(g(v.getIndex(n))+".",1)])),_:2},1024),1==t.type?(s(),a(F,{key:0},{default:i((()=>[o(g(t.content),1)])),_:2},1024)):(s(),a(j,{key:1,src:t.content,mode:"widthFix",style:{width:"400rpx","flex-shrink":"0"}},null,8,["src"]))])),_:2},1032,["class"])))),128))])),_:2},1024)])),_:2},1024)):u("",!0)],64)))),128)),(s(!0),d(c,null,r(Q.question,((t,n)=>(s(),d(c,{key:t.id},[Q.Qsindex==n?(s(),a(E,{key:0,class:"center-box anbox"},{default:i((()=>[l(E,{class:"c-t-box d-b-c"},{default:i((()=>[l(E,{class:"f30 c-t-box-title"},{default:i((()=>[o("你的答案："),l(F,{style:{color:"#F2473F"}},{default:i((()=>[o(g(v.getAnswer(t.answer)),1)])),_:2},1024)])),_:2},1024),l(E,{class:"f30 gray3"},{default:i((()=>[o("正确答案："),l(F,{style:{color:"#99E3D6"}},{default:i((()=>[o(g(v.getAnswer(t.question.answer)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),l(E,null,{default:i((()=>[l(E,{style:{height:"70rpx","line-height":"70rpx","padding-left":"4rpx"},class:"f28 gray3"},{default:i((()=>[o("回答"),1!=t.answer_state?(s(),a(F,{key:0,class:"dominant"},{default:i((()=>[o("错误")])),_:1})):(s(),a(F,{key:1,style:{color:"#99E3D6"}},{default:i((()=>[o("正确")])),_:1}))])),_:2},1024),l(E,{style:{border:"1rpx dashed #EEEEEE","border-top":"none","padding-left":"4rpx"},class:"pb30 f26 gray6 mb20"},{default:i((()=>[o("错误题目自动加入错题集，请至错题集中复习。 ")])),_:1}),l(E,{style:{display:"flex","align-items":"center","margin-bottom":"40rpx"}},{default:i((()=>[l(E,null,{default:i((()=>[o("试题难度:")])),_:1}),l(E,{class:"scoreList"},{default:i((()=>[(s(!0),d(c,null,r(v.currentQues.question.difficulty,(e=>(s(),a(j,{class:"score",key:e,src:b,mode:""})))),128))])),_:1})])),_:1}),1!=t.answer_state?(s(),d(c,{key:0},[l(E,{class:"f28 gray3 mb20"},{default:i((()=>[o("答案解析: ")])),_:1}),l(E,{class:"mb20"},{default:i((()=>[l(I,{content:t.question.analysis},null,8,["content"])])),_:2},1024),l(E,{class:"f26 gray6 mb24"},{default:i((()=>[o(g(t.question.title)+"错误题目自动加入错题集，请至错题集 中复习。",1)])),_:2},1024),t.knowledge.length>0?(s(),d(c,{key:0},[l(E,{class:"f30 c-t-box-title"},{default:i((()=>[o("关联知识点：")])),_:1}),l(E,null,{default:i((()=>[(s(!0),d(c,null,r(t.knowledge,((t,n)=>(s(),a(E,{class:"f26 dominant p-30-0 d-b-c",key:n,onClick:s=>e.gotoPage("pages/knowledge/course/detail?course_id="+t.course_id)},{default:i((()=>[l(E,{class:"flex-1"},{default:i((()=>[l(F,{class:"dot-red"}),o(g(t.course.title),1)])),_:2},1024),l(E,null,{default:i((()=>[l(C,{name:"arrow-right",bold:"",color:"#F2473F",size:"30rpx"})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:2},1024)],64)):u("",!0)],64)):u("",!0)])),_:2},1024)])),_:2},1024)):u("",!0)],64)))),128)),l(E,{class:"bottom-box d-b-c"},{default:i((()=>[l(E,{onClick:v.previous},{default:i((()=>[0==Q.Qsindex?(s(),a(C,{key:0,width:"52rpx",height:"60rpx",name:"/static/image/back_icon.png"})):(s(),a(C,{key:1,size:"52rpx",name:"/static/image/back_icon1.png"}))])),_:1},8,["onClick"]),Q.question.length>0?(s(),a(E,{key:0,style:{margin:"0 auto"},onClick:t[1]||(t[1]=e=>v.FavFunc(Q.question[0]))},{default:i((()=>[l(C,{size:"60rpx",name:Q.question[0].is_fav?"/static/image/shoucang_a.png":"/static/image/shoucang_p.png"},null,8,["name"])])),_:1})):u("",!0),l(E,{onClick:v.next},{default:i((()=>[Q.question&&Q.question.length-1==Q.Qsindex?(s(),a(C,{key:0,width:"52rpx",height:"60rpx",name:"/static/image/next_icon.png"})):(s(),a(C,{key:1,width:"52rpx",height:"60rpx",name:"/static/image/next_icon1.png"}))])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-4b793deb"]]);export{q as default};
