import{_ as a,D as t,o as e,a as l,w as s,f as i,b as o,r,F as c,p as d,h as n,d as u,e as _,t as g,R as p,k as m}from"./index-4d017ba3.js";import{e as h}from"./empty.079d20b9.js";import{u as f}from"./uni-load-more.96b24dac.js";import{_ as y}from"./score.53a72e3e.js";const D=a({components:{empty:h,uniLoadMore:f},data:()=>({loading:!1,page:1,list_rows:10,listData:[],last_page:1,no_more:!1}),computed:{loadingType(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},onShow(){},onLoad(){this.fetchData()},onReachBottom(){let a=this;a.page<a.last_page&&(a.page++,a.getData()),a.no_more=!0},methods:{fetchData(){this.page=1,this.category_id=0,this.search="",this.listData=[],this.getData()},getData(){let a=this;a._get("lecturer.Favorite/list",{page:a.page||1,list_rows:a.list_rows,category_id:a.category_id,search:a.search},(e=>{a.listData=a.listData.concat(e.data.list.data),a.last_page=e.data.list.last_page,e.data.list.last_page<=1&&(a.no_more=!0),a.loading=!1,t()}))},clickFav(a){let t=this;a.lecturer_id&&t._post("lecturer.Favorite/fav ",{lecturer_id:a.lecturer_id},(function(a){t.fetchData()}))}}},[["render",function(a,t,h,f,D,k){const b=m,v=i,w=n("empty"),F=n("uni-load-more");return e(),l(v,null,{default:s((()=>[D.listData&&D.listData.length>0?(e(),l(v,{key:0,class:"pt24 lecturer"},{default:s((()=>[(e(!0),o(c,null,r(D.listData,((t,i)=>(e(),l(v,{key:i,class:"item",onClick:e=>a.gotoPage(`/pages/knowledge/lecturer/detail?lecturer_id=${t.lecturer_id}`)},{default:s((()=>[u(v,{class:"l"},{default:s((()=>[u(b,{class:"img",src:t.lecturer.image&&t.lecturer.image.file_path,mode:""},null,8,["src"])])),_:2},1024),u(v,{class:"r"},{default:s((()=>[u(v,{class:"t"},{default:s((()=>[u(v,{class:"header"},{default:s((()=>[u(v,{class:"title"},{default:s((()=>[_(g(t.lecturer.name),1)])),_:2},1024),u(v,{class:"btn",onClick:p((a=>k.clickFav(t,i)),["stop"])},{default:s((()=>[_("已关注")])),_:2},1032,["onClick"])])),_:2},1024),u(v,{class:"scoreList"},{default:s((()=>[(e(!0),o(c,null,r(t.lecturer.star,(a=>(e(),l(b,{class:"score",key:a,src:y,mode:""})))),128))])),_:2},1024)])),_:2},1024),u(v,{class:"b"},{default:s((()=>[u(v,{class:"labelList"},{default:s((()=>[(e(!0),o(c,null,r(t.lecturer.label,(a=>(e(),l(v,{class:"label",key:a},{default:s((()=>[_(g(a),1)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):d("",!0),0!=D.listData.length||D.loading?(e(),l(F,{key:2,loadingType:k.loadingType},null,8,["loadingType"])):(e(),l(w,{key:1}))])),_:1})}],["__scopeId","data-v-a2825795"]]);export{D as default};
