import{_ as a,B as t,D as e,o as s,a as l,w as o,f as c,d as i,e as n,n as r,b as d,r as p,F as _,i as u,I as g,u as m,t as h}from"./index-911d5a8b.js";import{_ as f}from"./u-icon.06e4a6f5.js";import{r as y}from"./uni-app.es.a09d33e5.js";import{u as C}from"./uni-load-more.3bb687c9.js";const D=a({components:{uniLoadMore:C},data:()=>({searchName:"",category_id:0,categorys:[],list_rows:10,page:1,loading:!1,listData:[],last_page:1,no_more:!1,paper_type:1}),mounted(){this.getCategory(),this.getData()},onReachBottom(){let a=this;a.page<a.last_page&&(a.page++,a.getData()),a.no_more=!0},computed:{loadingType(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},methods:{searchFunc(){},getData(){let a=this,s=a.page,l=a.list_rows;a.loading=!0,t({title:"加载中"}),a._get("paper.Paper/list",{page:s||1,list_rows:l,category_id:a.category_id,paper_type:a.paper_type,search:a.searchName},(function(t){a.listData=a.listData.concat(t.data.list.data),a.last_page=t.data.list.last_page,t.data.list.last_page<=1&&(a.no_more=!0),a.loading=!1,e()}))},getCategory(){let a=this;a._get("paper.Category/index",{type:a.paper_type},(function(t){a.categorys=t.data.list}))},changeCat(a){let t=this;console.log("changeCat called with",a),t.category_id=a,t.page=1,t.listData=[],t.getData(),console.log(t.category_id)}}},[["render",function(a,t,e,C,D,x){const k=u,b=g,v=c,w=y(m("u-icon"),f);return s(),l(v,null,{default:o((()=>[i(v,{class:"top-box"},{default:o((()=>[i(v,{class:"top-search"},{default:o((()=>[i(v,{class:"search-box"},{default:o((()=>[i(k,{class:"icon iconfont icon-sousuo"}),i(b,{type:"text",class:"flex-1 search-input",onConfirm:t[0]||(t[0]=a=>x.searchFunc()),modelValue:D.searchName,"onUpdate:modelValue":t[1]||(t[1]=a=>D.searchName=a),placeholder:"请输入..."},null,8,["modelValue"]),i(v,{class:"search-btn",onClick:x.searchFunc},{default:o((()=>[n("搜索")])),_:1},8,["onClick"])])),_:1})])),_:1}),i(v,{class:"top-nav"},{default:o((()=>[i(v,{class:r(["top-nav-item",{active:0==D.category_id}]),onClick:t[2]||(t[2]=a=>x.changeCat(0))},{default:o((()=>[n("全部 ")])),_:1},8,["class"]),(s(!0),d(_,null,p(D.categorys,((a,t)=>(s(),l(v,{key:t,class:r(["top-nav-item",{active:D.category_id==a.category_id}]),onClick:t=>x.changeCat(a.category_id)},{default:o((()=>[n(h(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),i(v,{class:"practiceWrap"},{default:o((()=>[(s(!0),d(_,null,p(D.listData,((t,e)=>(s(),l(v,{key:e,class:"item",onClick:e=>a.gotoPage(`/pages/examination/exam/detail?paper_id=${t.paper_id}&model=practice`)},{default:o((()=>[i(v,null,{default:o((()=>[i(v,{class:"title"},{default:o((()=>[n(h(t.title),1)])),_:2},1024),i(v,{class:"numWrap"},{default:o((()=>[i(v,{class:"total"},{default:o((()=>[n("共"+h(t.item_number)+"题",1)])),_:2},1024),i(v,{class:"num"},{default:o((()=>[n(h(t.total_answer)+"人已答题",1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(v,{class:"btnWrap"},{default:o((()=>[i(w,{color:"#F2473F",size:"30rpx",name:"edit-pen"}),i(v,null,{default:o((()=>[n("答题")])),_:1})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}],["__scopeId","data-v-17de5982"]]);export{D as default};
