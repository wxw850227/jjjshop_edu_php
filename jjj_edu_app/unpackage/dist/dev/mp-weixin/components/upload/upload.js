"use strict";const o=require("../../common/vendor.js"),p={data(){return{imageList:[]}},props:["num"],onLoad(){},mounted(){this.chooseImageFunc()},methods:{chooseImageFunc(){let t=this;o.index.chooseImage({count:t.num||9,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(e){t.uploadFile(e.tempFilePaths)},fail:function(e){t.$emit("getImgs",null)},complete:function(e){}})},uploadFile:function(t){let e=this,n=0,a=t.length,s={token:o.index.getStorageSync("token"),app_id:e.getAppId()};o.index.showLoading({title:"上传中"}),t.forEach(function(c,m){o.index.uploadFile({url:e.websiteUrl+"/index.php?s=/api/file.upload/image",filePath:c,name:"iFile",formData:s,success:function(i){let l=typeof i.data=="object"?i.data:JSON.parse(i.data);l.code===1&&e.imageList.push(l.data)},complete:function(){n++,a===n&&(o.index.hideLoading(),e.$emit("getImgs",e.imageList))}})})}}};function u(t,e,n,a,s,c){return{}}const d=o._export_sfc(p,[["render",u],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/components/upload/upload.vue"]]);wx.createComponent(d);
