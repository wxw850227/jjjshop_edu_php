"use strict";const a=require("../../common/vendor.js"),u={data(){return{pickerValue:[0,0,0],provinceDataList:[],cityDataList:[],areaDataList:[],showPicker:!1,provinceData:[],cityData:[],areaData:[]}},created(){this.init()},props:{pickerValueDefault:{type:Array,default(){return[0,0,0]}},themeColor:String,province:{type:Array},city:{type:Array},area:{type:Array}},watch:{pickerValueDefault(){this.init()}},methods:{init(){this.provinceData=this.province,this.cityData=this.city,this.areaData=this.area,this.handPickValueDefault(),this.provinceDataList=this.provinceData,this.cityDataList=this.cityData[this.pickerValueDefault[0]],this.areaDataList=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]],this.pickerValue=this.pickerValueDefault},show(){setTimeout(()=>{this.showPicker=!0},0)},maskClick(){},pickerCancel(){this.showPicker=!1,this._$emit("onCancel")},pickerConfirm(i){this.showPicker=!1,this._$emit("onConfirm")},showPickerView(){this.showPicker=!0},handPickValueDefault(){this.pickerValueDefault!==[0,0,0]&&(this.pickerValueDefault[0]>this.provinceData.length-1&&(this.pickerValueDefault[0]=this.provinceData.length-1),this.pickerValueDefault[1]>this.cityData[this.pickerValueDefault[0]].length-1&&(this.pickerValueDefault[1]=this.cityData[this.pickerValueDefault[0]].length-1),this.pickerValueDefault[2]>this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1&&(this.pickerValueDefault[2]=this.areaData[this.pickerValueDefault[0]][this.pickerValueDefault[1]].length-1))},pickerChange(i){console.log(i);let e=i.detail.value;this.pickerValue[0]!==e[0]?(this.cityDataList=this.cityData[e[0]],this.areaDataList=this.areaData[e[0]][0],e[1]=0,e[2]=0):this.pickerValue[1]!==e[1]&&(this.areaDataList=this.areaData[e[0]][e[1]],e[2]=0),this.pickerValue=e,this._$emit("onChange")},_$emit(i){let e={label:this._getLabel(),value:this.pickerValue,cityCode:this._getCityCode()};this.$emit(i,e)},_getLabel(){return this.provinceDataList[this.pickerValue[0]].label+","+this.cityDataList[this.pickerValue[1]].label+","+this.areaDataList[this.pickerValue[2]].label},_getCityCode(){let i=[0,0,0];return i[0]=this.provinceDataList[this.pickerValue[0]].value,i[1]=this.cityDataList[this.pickerValue[1]].value,i[2]=this.areaDataList[this.pickerValue[2]].value,i}}};function p(i,e,h,n,s,r){return{a:s.showPicker?1:"",b:a.o((...t)=>r.maskClick&&r.maskClick(...t)),c:a.o((...t)=>r.pickerCancel&&r.pickerCancel(...t)),d:h.themeColor,e:a.o((...t)=>r.pickerConfirm&&r.pickerConfirm(...t)),f:a.f(s.provinceDataList,(t,c,l)=>({a:a.t(t.label),b:c})),g:a.f(s.cityDataList,(t,c,l)=>({a:a.t(t.label),b:c})),h:a.f(s.areaDataList,(t,c,l)=>({a:a.t(t.label),b:c})),i:s.pickerValue,j:a.o((...t)=>r.pickerChange&&r.pickerChange(...t)),k:s.showPicker?1:""}}const k=a._export_sfc(u,[["render",p],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/components/mpvue-citypicker/mpvueCityPicker.vue"]]);wx.createComponent(k);
