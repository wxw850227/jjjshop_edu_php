"use strict";const i=require("../common/vendor.js"),r=require("../config.js"),h={data(){return{Visible:!1,shareConfig:{},logo:""}},created(){this.getData()},props:["isAppShare","appParams"],watch:{isAppShare:function(s,t){s!=t&&(this.Visible=s)}},methods:{getData(){let s=this;s._get("settings/appShare",{},function(t){s.shareConfig=t.data.appshare,s.logo=t.data.logo})},closePopup(s){this.$emit("close")},share:function(s,t){let e={provider:"weixin",scene:t,type:s,success:function(o){console.log("success:"+JSON.stringify(o))},fail:function(o){console.log("fail:"+JSON.stringify(o))}};this.shareConfig.type!=2?(e.summary=this.appParams.summary,e.imageUrl=this.logo,e.title=this.appParams.title,this.shareConfig.type==1?e.href=this.shareConfig.open_site+this.appParams.path:this.shareConfig.type==3&&(this.shareConfig.bind_type==1?e.href=this.shareConfig.down_url:e.href=r.config.app_url+"/index.php/api/user.useropen/invite?app_id="+r.config.app_id+"&referee_id="+i.index.getStorageSync("user_id"))):(e.scene="WXSceneSession",e.type=5,e.imageUrl=this.appParams.image?this.appParams.image:this.logo,e.title=this.appParams.title,e.miniProgram={id:this.shareConfig.gh_id,path:this.appParams.path,webUrl:this.shareConfig.web_url,type:0}),i.index.share(e)}}};function c(s,t,e,o,n,a){return{a:i.o(p=>a.share(0,"WXSceneSession")),b:i.o(p=>a.share(0,"WXSenceTimeline")),c:i.o(p=>a.closePopup(1)),d:i.o(()=>{}),e:i.n(n.Visible?"bottom-panel open":"bottom-panel close"),f:i.o((...p)=>a.closePopup&&a.closePopup(...p))}}const l=i._export_sfc(h,[["render",c],["__scopeId","data-v-466244a3"],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/components/app-share.vue"]]);wx.createComponent(l);
