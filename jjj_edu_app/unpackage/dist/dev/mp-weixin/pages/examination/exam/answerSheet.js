"use strict";const t=require("../../../common/vendor.js"),m={data(){return{paper_id:0,record_id:0,activeIndex:0,time:"",examTime:0,detail:{},question:[],type:0,model:null}},onLoad(e){this.paper_id=e.paper_id,this.record_id=e.record_id,this.model=e.model,this.type=e.type||0,this.getData(),this.type==0&&this.checkHistory()},computed:{getExamTime(){let e=this.examTime,i=parseInt(e/60/60%24);i=i<10?"0"+i:i;let r=parseInt(e/60%60);r=r<10?"0"+r:r;let n=parseInt(e%60);return n=n<10?"0"+n:n,i+":"+r+":"+n}},beforeDestroy(){clearInterval(this.intTimer),this.intTimer=null},methods:{changeInde(e){this.$fire.fire("Qsindex",e),t.index.navigateBack()},goback(){t.index.navigateBack()},getData(){let e=this,i="paper.Paper/startAnswer";this.type!=0&&(i="paper.Paper/resultAnswer"),e._get(i,{paper_id:e.paper_id},r=>{e.detail=r.data.detail,e.question=e.detail.question})},checkHistory(){let e=this,i=t.index.getStorageSync("examTime")||{};this.examTime=i[e.record_id]||0,this.intTimer=setInterval(function(){e.examTime++},1e3)},getexamTime(){let e=t.index.getStorageSync("examTime"),i=0;return i=e[this.record_id],i},getIndex(e){return String.fromCharCode(e+65)},subFunc(){let e=this;t.index.showModal({title:"提示",content:"确认要提交试卷吗?",confirmText:"确认提交",success(i){i.confirm&&e._post("paper.Paper/submit",{record_id:e.detail.record_id},r=>{t.index.showModal({content:"提交成功",success(){e.gotoPage(`/pages/examination/record/detail?paper_id=${e.detail.paper_id}&model=${e.model}`,"redirect")}}),clearInterval(e.intTimer),e.intTimer=null})}})}}};Array||t.resolveComponent("u-icon")();const d=()=>"../../../uni_modules/uview-plus/components/u-icon/u-icon.js";Math||d();function p(e,i,r,n,a,s){return t.e({a:t.p({size:"42rpx",name:"/static/image/datika.png"}),b:t.o((...c)=>s.goback&&s.goback(...c)),c:a.type==0&&a.model!="practice"},a.type==0&&a.model!="practice"?{d:t.p({size:"46rpx",name:"/static/image/time.png"}),e:t.t(s.getExamTime)}:{},{f:t.f(a.question,(c,o,u)=>({a:t.t(o+1),b:c.answer_state>0?1:"",c:t.o(_=>s.changeInde(o),o),d:o})),g:a.type==0},a.type==0?{h:t.o((...c)=>s.subFunc&&s.subFunc(...c))}:{})}const l=t._export_sfc(m,[["render",p],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/examination/exam/answerSheet.vue"]]);wx.createPage(l);
