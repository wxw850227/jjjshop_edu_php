"use strict";const t=require("../../../common/vendor.js"),g=()=>"../../../components/uni-load-more.js",_={components:{uniLoadMore:g},data(){return{searchName:"",category_id:0,categorys:[],list_rows:10,page:1,loading:!1,listData:[],last_page:1,no_more:!1,paper_type:0}},onLoad(e){this.paper_type=e.paper_type||0;let o="真题";this.paper_type==1&&(o="练习"),t.index.setNavigationBarTitle({title:o})},mounted(){this.getCategory(),this.getData()},onReachBottom(){let e=this;e.page<e.last_page&&(e.page++,e.getData()),e.no_more=!0},computed:{loadingType(){return this.loading?1:this.listData.length!=0&&this.no_more?2:0}},methods:{searchFunc(){},getData(){let e=this,o=e.page,c=e.list_rows;e.loading=!0,t.index.showLoading({title:"加载中"}),e._get("paper.Paper/list",{page:o||1,list_rows:c,category_id:e.category_id,paper_type:e.paper_type,search:e.searchName},function(r){e.listData=e.listData.concat(r.data.list.data),e.last_page=r.data.list.last_page,r.data.list.last_page<=1&&(e.no_more=!0),e.loading=!1,t.index.hideLoading()})},getCategory(){let e=this;e._get("paper.Category/index",{type:e.paper_type},function(o){e.categorys=o.data.list})},changeCat(e){let o=this;console.log("changeCat called with",e),o.category_id=e,o.page=1,o.listData=[],o.getData(),console.log(o.category_id)}}};if(!Array){const e=t.resolveComponent("u-icon"),o=t.resolveComponent("uni-load-more");(e+o)()}const d=()=>"../../../uni_modules/uview-plus/components/u-icon/u-icon.js";Math||d();function h(e,o,c,r,n,i){return t.e({a:t.o(a=>i.searchFunc()),b:n.searchName,c:t.o(a=>n.searchName=a.detail.value),d:t.o((...a)=>i.searchFunc&&i.searchFunc(...a)),e:n.category_id==0?1:"",f:t.o(a=>i.changeCat(0)),g:t.f(n.categorys,(a,s,l)=>({a:t.t(a.name),b:s,c:n.category_id==a.category_id?1:"",d:t.o(p=>i.changeCat(a.category_id),s)})),h:t.f(n.listData,(a,s,l)=>t.e({a:"26235d25-0-"+l,b:t.p({width:"322rpx",height:"180rpx",name:a.image.file_path}),c:t.t(a.title),d:t.t(a.total_answer),e:a.money!=0},a.money!=0?{f:t.t(a.money)}:{},{g:a.money==0},a.money==0?{}:{},{h:"26235d25-1-"+l,i:s,j:t.o(p=>e.gotoPage("/pages/examination/exam/detail?paper_id="+a.paper_id),s)})),i:t.p({color:"#F2473F",size:"30rpx",name:"edit-pen"}),j:n.listData.length==0&&!n.loading},n.listData.length==0&&!n.loading?{}:{k:t.p({loadingType:i.loadingType})})}const u=t._export_sfc(_,[["render",h],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/examination/exam/list.vue"]]);wx.createPage(u);
