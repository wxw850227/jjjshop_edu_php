"use strict";const t=require("../../../common/vendor.js"),_=()=>"../../../components/uni-load-more.js",c=()=>"../../../components/empty.js",d={components:{uniLoadMore:_,empty:c},data(){return{type:0,list_rows:10,page:1,loading:!1,listData:[],last_page:1,no_more:!1}},onShow(){this.fetchData()},computed:{loadingType(){return this.loading?1:this.listData.length!=0&&this.no_more?2:0}},methods:{fetchData(){this.page=1,this.listData=[],this.getData()},getData(){let e=this;e.loading=!0,t.index.showLoading({title:"加载中"}),e._get("paper.Favorite/list",{page:e.page||1,list_rows:e.list_rows},a=>{e.listData=e.listData.concat(a.data.list.data),e.last_page=a.data.list.last_page,a.data.list.last_page<=1&&(e.no_more=!0),e.loading=!1,t.index.hideLoading()})},changeType(e){this.type!=e&&(this.type=e)},clickFan(e){let a=this;const{paper_id:l,question_id:r,paper_question_id:o}=e;a._post("paper.Favorite/fav",{paper_id:l,question_id:r,paper_question_id:o},i=>{e.is_fav==1?t.index.showToast({icon:"none",title:"取消成功"}):t.index.showToast({icon:"none",title:"收藏成功，请到“我的->我的收藏”查看和管理哦"}),a.fetchData()})}}};if(!Array){const e=t.resolveComponent("empty"),a=t.resolveComponent("uni-load-more");(e+a)()}function g(e,a,l,r,o,i){return t.e({a:t.f(o.listData,(s,n,h)=>({a:t.t(s.paper.title),b:t.o(p=>i.clickFan(s),n),c:t.t(s.question.type_name),d:t.t(s.question.title),e:n,f:t.o(p=>e.gotoPage("/pages/user/collect/subdetail?favorite_id="+s.favorite_id),n)})),b:o.listData.length==0&&!o.loading},o.listData.length==0&&!o.loading?{}:{c:t.p({loadingType:i.loadingType})})}const u=t._export_sfc(d,[["render",g],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/user/collect/subject.vue"]]);wx.createPage(u);
