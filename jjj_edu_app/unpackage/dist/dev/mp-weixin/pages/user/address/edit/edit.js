"use strict";const t=require("../../../../common/vendor.js"),n=()=>"../../../../components/mpvue-citypicker/mpvueCityPicker.js",c={components:{mpvueCityPicker:n},data(){return{cityPickerValueDefault:[0,0,0],selectCity:"选择省,市,区",province_id:0,city_id:0,region_id:0,address_id:0,address:{},region:{},is_load:!1,province:[],city:[],area:[]}},onLoad(e){this.address_id=e.address_id},mounted(){this.getData()},methods:{getData(){let e=this,o=e.address_id;e._get("user.address/detail",{address_id:o},function(i){e.address=i.data.detail,e.address_id=i.data.detail.address_id,e.province_id=i.data.detail.province_id,e.city_id=i.data.detail.city_id,e.region_id=i.data.detail.region_id,e.region=i.data.region;let s="";e.region.forEach(d=>{s+=d}),e.selectCity=s,e.province=i.data.regionData[0],e.city=i.data.regionData[1],e.area=i.data.regionData[2],e.is_load=!0})},formSubmit:function(e){let o=this;var i=e.detail.value;if(i.province_id=o.province_id,i.city_id=o.city_id,i.region_id=o.region_id,i.address_id=o.address_id,i.region=o.region,i.name=="")return t.index.showToast({title:"请输入收货人姓名",duration:1e3,icon:"none"}),!1;if(i.phone=="")return t.index.showToast({title:"请输入手机号码",duration:1e3,icon:"none"}),!1;if((i.province_id==0||i.city_id==0||i.region_id)&&i.detail=="")return t.index.showToast({title:"请选择完整省市区",duration:1e3,icon:"none"}),!1;o._post("user.address/edit",i,function(s){o.showSuccess(s.msg,function(){t.index.navigateBack({delta:1})})})},formReset:function(e){console.log("清空数据")},showMulLinkageThreePicker(){this.$refs.mpvueCityPicker.show()},onConfirm(e){this.region=e.label.split(","),this.selectCity=e.label,this.province_id=e.cityCode[0],this.city_id=e.cityCode[1],this.region_id=e.cityCode[2]}}};Array||t.resolveComponent("mpvue-city-picker")();function l(e,o,i,s,d,a){return t.e({a:d.address.name,b:t.o(r=>d.address.name=r.detail.value),c:d.address.phone,d:t.o(r=>d.address.phone=r.detail.value),e:t.o((...r)=>a.showMulLinkageThreePicker&&a.showMulLinkageThreePicker(...r)),f:d.selectCity,g:t.o(r=>d.selectCity=r.detail.value),h:d.address.detail,i:t.o(r=>d.address.detail=r.detail.value),j:t.o((...r)=>a.formSubmit&&a.formSubmit(...r)),k:t.o((...r)=>a.formReset&&a.formReset(...r)),l:d.is_load},d.is_load?{m:t.sr("mpvueCityPicker","772818eb-0"),n:t.o(a.onConfirm),o:t.p({province:d.province,city:d.city,area:d.area,pickerValueDefault:d.cityPickerValueDefault})}:{},{p:e.theme(),q:t.n(e.theme()||"")})}const _=t._export_sfc(c,[["render",l],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/user/address/edit/edit.vue"]]);wx.createPage(_);
