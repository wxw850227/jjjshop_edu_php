"use strict";const i=require("../../../../common/vendor.js"),c=()=>"../../../../components/mpvue-citypicker/mpvueCityPicker.js",d={components:{mpvueCityPicker:c},data(){return{cityPickerValueDefault:[0,0,0],selectCity:"",province_id:0,city_id:0,region_id:0,address:{},delta:1,province:[],city:[],area:[],is_load:!1}},onLoad:function(e){this.delta=e.delta,this.getData()},methods:{getData(){let e=this;e._post("settings/getRegion",{},function(r){e.province=r.data.regionData[0],e.city=r.data.regionData[1],e.area=r.data.regionData[2],e.is_load=!0})},formSubmit:function(e){let r=this;var n=e.detail.value;if(n.province_id=r.province_id,n.city_id=r.city_id,n.region_id=r.region_id,n.name=="")return i.index.showToast({title:"请输入收货人姓名",duration:1e3,icon:"none"}),!1;if(n.phone=="")return i.index.showToast({title:"请输入手机号码",duration:1e3,icon:"none"}),!1;if((n.province_id==0||n.city_id==0||n.region_id)&&n.detail=="")return i.index.showToast({title:"请选择完整省市区",duration:1e3,icon:"none"}),!1;if(n.detail=="")return i.index.showToast({title:"请输入街道小区楼牌号等",duration:1e3,icon:"none"}),!1;r._post("user.address/add",n,function(s){r.showSuccess(s.msg,function(){i.index.navigateBack({delta:parseInt(r.delta)})})})},formReset:function(e){console.log("清空数据")},showMulLinkageThreePicker(){console.log("kkkk"),this.$refs.mpvueCityPicker.show()},onConfirm(e){this.selectCity=e.label,this.province_id=e.cityCode[0],this.city_id=e.cityCode[1],this.region_id=e.cityCode[2]}}};Array||i.resolveComponent("mpvue-city-picker")();function l(e,r,n,s,t,a){return i.e({a:t.address.name,b:i.o(o=>t.address.name=o.detail.value),c:t.address.phone,d:i.o(o=>t.address.phone=o.detail.value),e:t.selectCity,f:i.o(o=>t.selectCity=o.detail.value),g:i.o((...o)=>a.showMulLinkageThreePicker&&a.showMulLinkageThreePicker(...o)),h:t.address.detail,i:i.o(o=>t.address.detail=o.detail.value),j:i.o((...o)=>a.formSubmit&&a.formSubmit(...o)),k:i.o((...o)=>a.formReset&&a.formReset(...o)),l:t.is_load},t.is_load?{m:i.sr("mpvueCityPicker","ff1a390a-0"),n:i.o(a.onConfirm),o:i.p({province:t.province,city:t.city,area:t.area,pickerValueDefault:t.cityPickerValueDefault})}:{},{p:e.theme(),q:i.n(e.theme()||"")})}const u=i._export_sfc(d,[["render",l],["__scopeId","data-v-ff1a390a"],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/user/address/add/add.vue"]]);wx.createPage(u);
