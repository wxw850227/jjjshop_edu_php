"use strict";const s=require("../../common/vendor.js"),r=()=>"./mask/selectProduct.js",c=()=>"./mask/rule.js",p={components:{selectProduct:r,rule:c},data(){return{list_rows:10,page:1,loading:!1,listData:[],last_page:1,no_more:!1,points:0,setting:{}}},onShow(){this.listData=[],this.page=1,this.getData()},onLoad(e){},onHide(){this.$refs.selectProductRef.closeShow()},onReachBottom(){let e=this;e.page<e.last_page&&(e.page++,e.getData()),e.no_more=!0},methods:{openDetail(e){this.$refs.selectProductRef.openShow(e)},clickRule(){this.$refs.ruleRef.openShow(this.setting)},getData(){let e=this;s.index.showLoading({title:"加载中"}),e._get("plus.points.product/index",{page:e.page||1,list_rows:e.list_rows},a=>{e.listData=e.listData.concat(a.data.list.data),e.last_page=a.data.list.last_page,e.points=a.data.points,e.setting=a.data.setting,e.setting.describe=e.setting.describe.replace(/\n/g,"<br/>"),a.data.list.last_page<=1&&(e.no_more=!0),e.loading=!1,s.index.hideLoading()})}}};if(!Array){const e=s.resolveComponent("selectProduct"),a=s.resolveComponent("rule");(e+a)()}function d(e,a,_,g,i,o){return{a:s.t(i.points),b:s.o(t=>e.gotoPage("/pages/pointsMall/orderList")),c:s.o(t=>e.gotoPage("/pages/pointsMall/disburse")),d:s.o((...t)=>o.clickRule&&o.clickRule(...t)),e:s.f(15,(t,n,l)=>({a:t})),f:s.f(15,(t,n,l)=>({a:t})),g:s.f(i.listData,(t,n,l)=>s.e({a:t.file_path,b:s.t(t.product_name),c:t.limit_num>0},t.limit_num>0?{d:s.t(t.limit_num)}:t.limit_num==0?{}:{},{e:t.limit_num==0,f:s.t(t.sales_actual),g:s.t(t.product_price),h:s.t(t.product_points),i:s.o(m=>o.openDetail(t),t),j:t})),h:s.sr("selectProductRef","83a7e56c-0"),i:s.sr("ruleRef","83a7e56c-1")}}const u=s._export_sfc(p,[["render",d],["__scopeId","data-v-83a7e56c"],["__file","D:/phpstudy_pro/www3/jjj_edu_small/jjj_edu_app/pages/pointsMall/index.vue"]]);wx.createPage(u);
