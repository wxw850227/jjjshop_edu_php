"use strict";const r=require("./vendor.js"),o=(a,e,n,p)=>{if(a.code===-10)return e.showError(a.msg),!1;a.data.pay_type==20&&r.index.requestPayment({provider:"wxpay",timeStamp:a.data.payment.timeStamp,nonceStr:a.data.payment.nonceStr,package:a.data.payment.package,signType:a.data.payment.signType,paySign:a.data.payment.paySign,success:i=>{d(a,e,n)},fail:i=>{e.showError("订单未支付成功",()=>{y(a,p)})}}),a.data.pay_type==10&&d(a,e,n),a.data.pay_type==30};function d(a,e,n){if(n){n(a);return}t(a)}function t(a){r.index.reLaunch({url:"/pages/order/pay-success/pay-success?order_id="+a.data.order_id})}function y(a,e){if(e){e(a);return}r.index.redirectTo({url:"/pages/order/order-detail?order_id="+a.data.order_id})}exports.pay=o;
