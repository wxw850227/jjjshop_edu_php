import{_ as e,U as t,A as s,o as i,a,w as n,f as l,d,e as o,t as r,b as c,r as u,F as p,p as _,u as g,i as f,n as h,k as x}from"./index-911d5a8b.js";import{_ as m}from"./u-icon.06e4a6f5.js";import{r as w}from"./uni-app.es.a09d33e5.js";import{_ as y}from"./u-parse.5133a666.js";import{_ as k}from"./score.53a72e3e.js";const b=e({data:()=>({paper_id:0,time:"",question:{},answer:[],Qsindex:0,detail:{knowledge:[],paper:[]},list:[],wrong_id:0}),onLoad(e){this.paper_id=e.paper_id,this.getData()},watch:{},methods:{isSelect:(e,t,s)=>2==e.question.question_type?-1!=t.indexOf(s):t===s,getAnswer:e=>Array.isArray(e)?e.join():e,knowFun(){let e=this;t({title:"提示",content:"确定已经掌握该错题了吗?",success(t){t.confirm&&e._get("paper.Wrong/submit",{paper_id:e.paper_id},(t=>{e.getData()}))}})},delFunc(){let e=this;t({title:"提示",content:"确定要把该题目从错题中删除吗?",success(s){s.confirm&&e._get("paper.Wrong/delete",{wrong_id:e.wrong_id},(s=>{t({content:"删除成功",success(){e.Qsindex>0?e.Qsindex=e.Qsindex-1:e.Qsindex=0,e.getData()}})}))}})},getData(){let e=this;e._get("paper.Wrong/detail",{paper_id:e.paper_id},(t=>{const{data:{detail:s}}=t;e.list=s,e.detail=s[e.Qsindex],e.question=s[e.Qsindex].question,e.wrong_id=s[e.Qsindex].wrong_id}))},slectAn(e,t){this.question[e].answer_state>0||(this.question[e].answer=this.getIndex(t))},getNum:e=>String.fromCharCode(e-65),getIndex:e=>String.fromCharCode(e+65),previous(){this.Qsindex<1||(this.Qsindex--,this.detail=this.list[this.Qsindex],this.question=this.list[this.Qsindex].question,this.wrong_id=this.list[this.Qsindex].wrong_id)},next(){this.Qsindex+1>=this.list.length||(this.Qsindex++,this.detail=this.list[this.Qsindex],this.question=this.list[this.Qsindex].question,this.wrong_id=this.list[this.Qsindex].wrong_id)},FavFunc(e){this._post("paper.Favorite/fav",{paper_id:this.paper_id,question_id:e.question_id,paper_question_id:e.paper_question_id},(t=>{1==e.is_fav?(s({icon:"none",title:"取消成功"}),e.is_fav=0):(s({icon:"none",title:"收藏成功，请到“我的->我的收藏”查看和管理哦"}),e.is_fav=1)}))}}},[["render",function(e,t,s,b,q,Q){const F=w(g("u-icon"),m),C=l,v=f,A=x,j=w(g("u-parse"),y);return i(),a(C,{class:"p24",style:{"padding-bottom":"120rpx"}},{default:n((()=>[d(C,{class:"center-box mb24"},{default:n((()=>[d(C,{class:"d-b-c mb24"},{default:n((()=>[d(C,{class:"type-box d-c-c"},{default:n((()=>[d(F,{width:"96rpx",height:"92rpx",name:"/static/image/tixing_bg.png"}),d(C,{class:"f24 white type-name"},{default:n((()=>[o(r(q.question.type_name),1)])),_:1})])),_:1}),d(C,{onClick:Q.delFunc},{default:n((()=>[d(F,{size:"40rpx",name:"trash"})])),_:1},8,["onClick"])])),_:1}),d(C,{class:"f32 gray3",style:{"margin-bottom":"40rpx"}},{default:n((()=>[o(r(q.question.title),1)])),_:1}),d(C,null,{default:n((()=>[(i(!0),c(p,null,u(q.question.option,((e,t)=>(i(),a(C,{class:h(["anser-item",{active:Q.isSelect(q.detail,q.detail.answer,Q.getIndex(t))}]),key:t},{default:n((()=>[d(v,{class:""},{default:n((()=>[o(r(Q.getIndex(t))+".",1)])),_:2},1024),1==e.type?(i(),a(v,{key:0},{default:n((()=>[o(r(e.content),1)])),_:2},1024)):(i(),a(A,{key:1,src:e.content,mode:"widthFix",style:{width:"400rpx","flex-shrink":"0"}},null,8,["src"]))])),_:2},1032,["class"])))),128))])),_:1})])),_:1}),d(C,{class:"center-box anbox"},{default:n((()=>[d(C,{class:"c-t-box d-b-c"},{default:n((()=>[d(C,{class:"f30 c-t-box-title"},{default:n((()=>[o("你的答案："),d(v,{style:{color:"#F2473F"}},{default:n((()=>[o(r(Q.getAnswer(q.detail.answer)),1)])),_:1})])),_:1}),d(C,{class:"f30 gray3"},{default:n((()=>[o("正确答案："),d(v,{style:{color:"#99E3D6"}},{default:n((()=>[o(r(Q.getAnswer(q.question.answer)),1)])),_:1})])),_:1})])),_:1}),d(C,null,{default:n((()=>[d(C,{style:{height:"70rpx","line-height":"70rpx","padding-left":"4rpx"},class:"f28 gray3"},{default:n((()=>[o("回答"),d(v,{class:"dominant"},{default:n((()=>[o("错误")])),_:1})])),_:1}),d(C,{class:"d-s-c f28 gray3 mb20"},{default:n((()=>[o("试题难度:"),d(C,{class:"scoreList"},{default:n((()=>[(i(!0),c(p,null,u(q.detail.paper.difficulty,(e=>(i(),a(A,{class:"score",key:e,src:k,mode:""})))),128))])),_:1})])),_:1}),(i(),c(p,{key:0},[d(C,{class:"f28 gray3 mb20"},{default:n((()=>[o("答案解析: ")])),_:1}),d(C,{class:"mb20"},{default:n((()=>[d(j,{content:q.question.analysis},null,8,["content"])])),_:1}),q.question.knowledge&&q.question.knowledge.length>0?(i(),c(p,{key:0},[d(C,{class:"f30 c-t-box-title"},{default:n((()=>[o("关联知识点：")])),_:1}),d(C,null,{default:n((()=>[(i(!0),c(p,null,u(q.question.knowledge,((t,s)=>(i(),a(C,{key:s,class:"f26 dominant p-30-0 d-b-c",onClick:s=>e.gotoPage("pages/knowledge/course/detail?course_id="+t.course_id)},{default:n((()=>[d(C,{class:"flex-1"},{default:n((()=>[d(v,{class:"dot-red"}),o(r(t.course.title),1)])),_:2},1024),d(C,null,{default:n((()=>[d(F,{name:"arrow-right",bold:"",color:"#F2473F",size:"30rpx"})])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})],64)):_("",!0)],64))])),_:1})])),_:1}),d(C,{class:"bottom-box d-b-c"},{default:n((()=>[d(C,{onClick:Q.previous},{default:n((()=>[0==q.Qsindex?(i(),a(F,{key:0,width:"52rpx",height:"60rpx",name:"/static/image/back_icon.png"})):(i(),a(F,{key:1,size:"52rpx",name:"/static/image/back_icon1.png"}))])),_:1},8,["onClick"]),d(C,{onClick:t[0]||(t[0]=e=>Q.FavFunc(q.detail))},{default:n((()=>[d(F,{size:"74rpx",name:1==q.detail.is_fav?"/static/image/shoucang_a.png":"/static/image/shoucang_p.png"},null,8,["name"])])),_:1}),d(C,{onClick:Q.next},{default:n((()=>[d(F,{width:"52rpx",height:"60rpx",name:q.Qsindex===q.list.length-1?"/static/image/next_icon.png":"/static/image/next_icon1.png"},null,8,["name"])])),_:1},8,["onClick"])])),_:1})])),_:1})}],["__scopeId","data-v-40749417"]]);export{b as default};
