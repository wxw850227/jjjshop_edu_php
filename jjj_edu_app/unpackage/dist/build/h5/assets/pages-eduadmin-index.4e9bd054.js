import{_ as a,B as t,D as e,o as s,a as l,w as o,f as i,d as c,e as d,n as r,b as n,r as g,F as u,i as _,I as f,h as p,t as h,p as m,k as y}from"./index-911d5a8b.js";import{e as k}from"./empty.6806bb69.js";import{u as D}from"./uni-load-more.3bb687c9.js";const b=a({components:{empty:k,uniLoadMore:D},data:()=>({categoryList:[],category_id:0,loading:!1,list_rows:10,listData:[],last_page:1,no_more:!1,search:""}),onShow(){},onLoad(){this.getCategory()},computed:{loadingType(){return this.loading?1:0!=this.listData.length&&this.no_more?2:0}},methods:{getCategory(){let a=this;t({title:"加载中"}),a._get("course.Category/index",{},(t=>{const{data:{list:e}}=t;a.categoryList=e,a.getData()}))},getData(){let a=this;a._get("course.Course/lists",{page:a.page||1,list_rows:a.list_rows,category_id:a.category_id,search:a.search},(t=>{a.listData=a.listData.concat(t.data.list.data),a.last_page=t.data.list.last_page,t.data.list.last_page<=1&&(a.no_more=!0),a.loading=!1,e()}))},gotoDetail(a){this.gotoPage(`/pages/eduadmin/detail?course_id=${a.course_id}`)},searchFunc(){this.listData=[],this.page=1,this.getData()},changeCat(a){this.category_id=-1==a?0:a.category_id,this.listData=[],this.page=1,this.getData()}}},[["render",function(a,t,e,k,D,b){const C=_,x=f,F=i,v=y,w=p("empty"),L=p("uni-load-more");return s(),l(F,null,{default:o((()=>[c(F,{class:"top-box"},{default:o((()=>[c(F,{class:"top-search"},{default:o((()=>[c(F,{class:"search-box"},{default:o((()=>[c(C,{class:"icon iconfont icon-sousuo"}),c(x,{type:"text",class:"flex-1 search-input",modelValue:D.search,"onUpdate:modelValue":t[0]||(t[0]=a=>D.search=a),placeholder:"请输入..."},null,8,["modelValue"]),c(F,{class:"search-btn",onClick:b.searchFunc},{default:o((()=>[d("搜索")])),_:1},8,["onClick"])])),_:1})])),_:1}),c(F,{class:"top-nav"},{default:o((()=>[c(F,{class:r(["top-nav-item",{active:0==D.category_id}]),onClick:t[1]||(t[1]=a=>b.changeCat(-1))},{default:o((()=>[d("全部 ")])),_:1},8,["class"]),(s(!0),n(u,null,g(D.categoryList,((a,t)=>(s(),l(F,{key:t,class:r(["top-nav-item",{active:D.category_id==a.category_id}]),onClick:t=>b.changeCat(a)},{default:o((()=>[d(h(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),c(F,{class:"pt24 data-list"},{default:o((()=>[(s(!0),n(u,null,g(D.listData,((a,t)=>(s(),l(F,{class:"data-item d-b-s flex-1",key:t,onClick:t=>b.gotoDetail(a)},{default:o((()=>[c(F,{class:"imgbox"},{default:o((()=>[c(v,{class:"data-img",src:a.image.file_path,mode:""},null,8,["src"])])),_:2},1024),c(F,{class:"data-text ml20"},{default:o((()=>[c(F,null,{default:o((()=>[c(F,{class:"text-ellipsis-2 data-title f26 gray3"},{default:o((()=>[d(h(a.title),1)])),_:2},1024),(s(!0),n(u,null,g(a.label,(a=>(s(),l(F,{class:"date-biaoqian redF24 f22",key:a},{default:o((()=>[d(h(a),1)])),_:2},1024)))),128))])),_:2},1024),c(F,{class:"d-b-c data-bottom"},{default:o((()=>[c(F,{class:"gray9 f28"},{default:o((()=>[d(h(a.sectionNum)+"课时",1)])),_:2},1024),1==a.isFree?(s(),l(F,{key:0,class:"fb f30 redF24"},{default:o((()=>[d("免费")])),_:1})):2==a.isFree?(s(),l(F,{key:1,class:"fb f30 redF24"},{default:o((()=>[d("免费试看")])),_:1})):3==a.isFree?(s(),l(F,{key:2,class:"fb f30 redF24"},{default:o((()=>[d("￥"+h(a.course_price),1)])),_:2},1024)):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),0!=D.listData.length||D.loading?(s(),l(L,{key:1,loadingType:b.loadingType},null,8,["loadingType"])):(s(),l(w,{key:0}))])),_:1})])),_:1})}],["__scopeId","data-v-f6e4b195"]]);export{b as default};
